// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
'use strict';var cov_ols8u8r67=function(){var path='_http_common.js',hash='db4c488a02fa238d71eb86d4ee805abcb995f21f',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'_http_common.js',statementMap:{'0':{start:{line:24,column:16},end:{line:24,column:46}},'1':{start:{line:25,column:16},end:{line:25,column:31}},'2':{start:{line:26,column:19},end:{line:26,column:37}},'3':{start:{line:28,column:17},end:{line:28,column:45}},'4':{start:{line:29,column:16},end:{line:29,column:48}},'5':{start:{line:30,column:17},end:{line:30,column:42}},'6':{start:{line:31,column:20},end:{line:31,column:54}},'7':{start:{line:32,column:24},end:{line:32,column:48}},'8':{start:{line:33,column:18},end:{line:33,column:36}},'9':{start:{line:34,column:17},end:{line:34,column:34}},'10':{start:{line:36,column:14},end:{line:36,column:46}},'11':{start:{line:38,column:19},end:{line:38,column:44}},'12':{start:{line:39,column:27},end:{line:39,column:60}},'13':{start:{line:40,column:16},end:{line:40,column:38}},'14':{start:{line:41,column:27},end:{line:41,column:60}},'15':{start:{line:42,column:19},end:{line:42,column:44}},'16':{start:{line:51,column:2},end:{line:54,column:3}},'17':{start:{line:53,column:4},end:{line:53,column:50}},'18':{start:{line:55,column:2},end:{line:55,column:19}},'19':{start:{line:65,column:15},end:{line:65,column:19}},'20':{start:{line:67,column:2},end:{line:70,column:3}},'21':{start:{line:68,column:4},end:{line:68,column:30}},'22':{start:{line:69,column:4},end:{line:69,column:25}},'23':{start:{line:72,column:2},end:{line:75,column:3}},'24':{start:{line:73,column:4},end:{line:73,column:22}},'25':{start:{line:74,column:4},end:{line:74,column:21}},'26':{start:{line:77,column:2},end:{line:77,column:55}},'27':{start:{line:78,column:2},end:{line:78,column:50}},'28':{start:{line:79,column:2},end:{line:79,column:50}},'29':{start:{line:80,column:2},end:{line:80,column:66}},'30':{start:{line:81,column:2},end:{line:81,column:28}},'31':{start:{line:83,column:10},end:{line:83,column:24}},'32':{start:{line:86,column:2},end:{line:87,column:43}},'33':{start:{line:87,column:4},end:{line:87,column:43}},'34':{start:{line:89,column:2},end:{line:89,column:46}},'35':{start:{line:91,column:2},end:{line:98,column:3}},'36':{start:{line:93,column:4},end:{line:93,column:45}},'37':{start:{line:96,column:4},end:{line:96,column:44}},'38':{start:{line:97,column:4},end:{line:97,column:50}},'39':{start:{line:100,column:2},end:{line:106,column:3}},'40':{start:{line:105,column:4},end:{line:105,column:20}},'41':{start:{line:108,column:2},end:{line:108,column:36}},'42':{start:{line:110,column:17},end:{line:110,column:18}},'43':{start:{line:112,column:2},end:{line:117,column:3}},'44':{start:{line:116,column:4},end:{line:116,column:67}},'45':{start:{line:119,column:2},end:{line:122,column:20}},'46':{start:{line:120,column:4},end:{line:120,column:28}},'47':{start:{line:122,column:4},end:{line:122,column:20}},'48':{start:{line:128,column:15},end:{line:128,column:19}},'49':{start:{line:129,column:15},end:{line:129,column:30}},'50':{start:{line:132,column:2},end:{line:133,column:11}},'51':{start:{line:133,column:4},end:{line:133,column:11}},'52':{start:{line:135,column:15},end:{line:135,column:28}},'53':{start:{line:138,column:2},end:{line:143,column:3}},'54':{start:{line:139,column:16},end:{line:139,column:43}},'55':{start:{line:140,column:14},end:{line:140,column:32}},'56':{start:{line:141,column:4},end:{line:142,column:23}},'57':{start:{line:142,column:6},end:{line:142,column:23}},'58':{start:{line:147,column:15},end:{line:147,column:19}},'59':{start:{line:148,column:15},end:{line:148,column:30}},'60':{start:{line:150,column:2},end:{line:162,column:3}},'61':{start:{line:151,column:4},end:{line:151,column:27}},'62':{start:{line:153,column:18},end:{line:153,column:33}},'63':{start:{line:154,column:4},end:{line:158,column:5}},'64':{start:{line:155,column:6},end:{line:155,column:63}},'65':{start:{line:156,column:6},end:{line:156,column:27}},'66':{start:{line:157,column:6},end:{line:157,column:23}},'67':{start:{line:161,column:4},end:{line:161,column:22}},'68':{start:{line:165,column:2},end:{line:165,column:27}},'69':{start:{line:169,column:14},end:{line:192,column:2}},'70':{start:{line:170,column:15},end:{line:170,column:49}},'71':{start:{line:172,column:2},end:{line:172,column:23}},'72':{start:{line:173,column:2},end:{line:173,column:19}},'73':{start:{line:174,column:2},end:{line:174,column:27}},'74':{start:{line:176,column:2},end:{line:176,column:23}},'75':{start:{line:177,column:2},end:{line:177,column:25}},'76':{start:{line:178,column:2},end:{line:178,column:25}},'77':{start:{line:185,column:2},end:{line:185,column:39}},'78':{start:{line:186,column:2},end:{line:186,column:55}},'79':{start:{line:187,column:2},end:{line:187,column:33}},'80':{start:{line:188,column:2},end:{line:188,column:55}},'81':{start:{line:189,column:2},end:{line:189,column:28}},'82':{start:{line:191,column:2},end:{line:191,column:16}},'83':{start:{line:203,column:2},end:{line:222,column:3}},'84':{start:{line:204,column:4},end:{line:204,column:25}},'85':{start:{line:205,column:4},end:{line:205,column:29}},'86':{start:{line:206,column:4},end:{line:207,column:25}},'87':{start:{line:207,column:6},end:{line:207,column:25}},'88':{start:{line:208,column:4},end:{line:208,column:29}},'89':{start:{line:209,column:4},end:{line:210,column:34}},'90':{start:{line:210,column:6},end:{line:210,column:34}},'91':{start:{line:211,column:4},end:{line:211,column:25}},'92':{start:{line:212,column:4},end:{line:212,column:27}},'93':{start:{line:213,column:4},end:{line:213,column:27}},'94':{start:{line:214,column:4},end:{line:214,column:30}},'95':{start:{line:215,column:4},end:{line:221,column:5}},'96':{start:{line:216,column:6},end:{line:216,column:21}},'97':{start:{line:220,column:6},end:{line:220,column:39}},'98':{start:{line:223,column:2},end:{line:225,column:3}},'99':{start:{line:224,column:4},end:{line:224,column:22}},'100':{start:{line:226,column:2},end:{line:228,column:3}},'101':{start:{line:227,column:4},end:{line:227,column:25}},'102':{start:{line:233,column:2},end:{line:233,column:42}},'103':{start:{line:234,column:2},end:{line:234,column:30}},'104':{start:{line:263,column:18},end:{line:280,column:1}},'105':{start:{line:282,column:2},end:{line:283,column:17}},'106':{start:{line:283,column:4},end:{line:283,column:17}},'107':{start:{line:284,column:2},end:{line:285,column:16}},'108':{start:{line:285,column:4},end:{line:285,column:16}},'109':{start:{line:286,column:2},end:{line:287,column:17}},'110':{start:{line:287,column:4},end:{line:287,column:17}},'111':{start:{line:288,column:2},end:{line:289,column:16}},'112':{start:{line:289,column:4},end:{line:289,column:16}},'113':{start:{line:290,column:2},end:{line:291,column:17}},'114':{start:{line:291,column:4},end:{line:291,column:17}},'115':{start:{line:292,column:2},end:{line:293,column:16}},'116':{start:{line:293,column:4},end:{line:293,column:16}},'117':{start:{line:294,column:2},end:{line:295,column:17}},'118':{start:{line:295,column:4},end:{line:295,column:17}},'119':{start:{line:296,column:2},end:{line:299,column:3}},'120':{start:{line:297,column:4},end:{line:298,column:19}},'121':{start:{line:298,column:6},end:{line:298,column:19}},'122':{start:{line:300,column:2},end:{line:300,column:14}},'123':{start:{line:313,column:20},end:{line:330,column:1}},'124':{start:{line:332,column:2},end:{line:332,column:12}},'125':{start:{line:333,column:2},end:{line:334,column:17}},'126':{start:{line:334,column:4},end:{line:334,column:17}},'127':{start:{line:335,column:2},end:{line:336,column:16}},'128':{start:{line:336,column:4},end:{line:336,column:16}},'129':{start:{line:337,column:2},end:{line:338,column:17}},'130':{start:{line:338,column:4},end:{line:338,column:17}},'131':{start:{line:339,column:2},end:{line:340,column:16}},'132':{start:{line:340,column:4},end:{line:340,column:16}},'133':{start:{line:341,column:2},end:{line:342,column:17}},'134':{start:{line:342,column:4},end:{line:342,column:17}},'135':{start:{line:343,column:2},end:{line:344,column:16}},'136':{start:{line:344,column:4},end:{line:344,column:16}},'137':{start:{line:345,column:2},end:{line:346,column:17}},'138':{start:{line:346,column:4},end:{line:346,column:17}},'139':{start:{line:347,column:2},end:{line:348,column:16}},'140':{start:{line:348,column:4},end:{line:348,column:16}},'141':{start:{line:349,column:2},end:{line:352,column:3}},'142':{start:{line:350,column:4},end:{line:351,column:18}},'143':{start:{line:351,column:6},end:{line:351,column:18}},'144':{start:{line:353,column:2},end:{line:353,column:15}},'145':{start:{line:356,column:0},end:{line:367,column:2}}},fnMap:{'0':{name:'parserOnHeaders',decl:{start:{line:49,column:9},end:{line:49,column:24}},loc:{start:{line:49,column:39},end:{line:56,column:1}},line:49},'1':{name:'parserOnHeadersComplete',decl:{start:{line:62,column:9},end:{line:62,column:32}},loc:{start:{line:64,column:50},end:{line:123,column:1}},line:64},'2':{name:'parserOnBody',decl:{start:{line:127,column:9},end:{line:127,column:21}},loc:{start:{line:127,column:37},end:{line:144,column:1}},line:127},'3':{name:'parserOnMessageComplete',decl:{start:{line:146,column:9},end:{line:146,column:32}},loc:{start:{line:146,column:35},end:{line:166,column:1}},line:146},'4':{name:'(anonymous_4)',decl:{start:{line:169,column:44},end:{line:169,column:45}},loc:{start:{line:169,column:55},end:{line:192,column:1}},line:169},'5':{name:'freeParser',decl:{start:{line:202,column:9},end:{line:202,column:19}},loc:{start:{line:202,column:41},end:{line:229,column:1}},line:202},'6':{name:'httpSocketSetup',decl:{start:{line:232,column:9},end:{line:232,column:24}},loc:{start:{line:232,column:33},end:{line:235,column:1}},line:232},'7':{name:'checkIsHttpToken',decl:{start:{line:281,column:9},end:{line:281,column:25}},loc:{start:{line:281,column:31},end:{line:301,column:1}},line:281},'8':{name:'checkInvalidHeaderChar',decl:{start:{line:331,column:9},end:{line:331,column:31}},loc:{start:{line:331,column:37},end:{line:354,column:1}},line:331}},branchMap:{'0':{loc:{start:{line:51,column:2},end:{line:54,column:3}},type:'if',locations:[{start:{line:51,column:2},end:{line:54,column:3}},{start:{line:51,column:2},end:{line:54,column:3}}],line:51},'1':{loc:{start:{line:51,column:6},end:{line:52,column:48}},type:'binary-expr',locations:[{start:{line:51,column:6},end:{line:51,column:30}},{start:{line:52,column:6},end:{line:52,column:48}}],line:51},'2':{loc:{start:{line:67,column:2},end:{line:70,column:3}},type:'if',locations:[{start:{line:67,column:2},end:{line:70,column:3}},{start:{line:67,column:2},end:{line:70,column:3}}],line:67},'3':{loc:{start:{line:72,column:2},end:{line:75,column:3}},type:'if',locations:[{start:{line:72,column:2},end:{line:75,column:3}},{start:{line:72,column:2},end:{line:75,column:3}}],line:72},'4':{loc:{start:{line:86,column:2},end:{line:87,column:43}},type:'if',locations:[{start:{line:86,column:2},end:{line:87,column:43}},{start:{line:86,column:2},end:{line:87,column:43}}],line:86},'5':{loc:{start:{line:91,column:2},end:{line:98,column:3}},type:'if',locations:[{start:{line:91,column:2},end:{line:98,column:3}},{start:{line:91,column:2},end:{line:98,column:3}}],line:91},'6':{loc:{start:{line:100,column:2},end:{line:106,column:3}},type:'if',locations:[{start:{line:100,column:2},end:{line:106,column:3}},{start:{line:100,column:2},end:{line:106,column:3}}],line:100},'7':{loc:{start:{line:100,column:6},end:{line:100,column:71}},type:'binary-expr',locations:[{start:{line:100,column:6},end:{line:100,column:13}},{start:{line:100,column:17},end:{line:100,column:41}},{start:{line:100,column:45},end:{line:100,column:71}}],line:100},'8':{loc:{start:{line:112,column:2},end:{line:117,column:3}},type:'if',locations:[{start:{line:112,column:2},end:{line:117,column:3}},{start:{line:112,column:2},end:{line:117,column:3}}],line:112},'9':{loc:{start:{line:119,column:2},end:{line:122,column:20}},type:'if',locations:[{start:{line:119,column:2},end:{line:122,column:20}},{start:{line:119,column:2},end:{line:122,column:20}}],line:119},'10':{loc:{start:{line:120,column:11},end:{line:120,column:27}},type:'cond-expr',locations:[{start:{line:120,column:22},end:{line:120,column:23}},{start:{line:120,column:26},end:{line:120,column:27}}],line:120},'11':{loc:{start:{line:132,column:2},end:{line:133,column:11}},type:'if',locations:[{start:{line:132,column:2},end:{line:133,column:11}},{start:{line:132,column:2},end:{line:133,column:11}}],line:132},'12':{loc:{start:{line:138,column:2},end:{line:143,column:3}},type:'if',locations:[{start:{line:138,column:2},end:{line:143,column:3}},{start:{line:138,column:2},end:{line:143,column:3}}],line:138},'13':{loc:{start:{line:138,column:6},end:{line:138,column:32}},type:'binary-expr',locations:[{start:{line:138,column:6},end:{line:138,column:13}},{start:{line:138,column:17},end:{line:138,column:32}}],line:138},'14':{loc:{start:{line:141,column:4},end:{line:142,column:23}},type:'if',locations:[{start:{line:141,column:4},end:{line:142,column:23}},{start:{line:141,column:4},end:{line:142,column:23}}],line:141},'15':{loc:{start:{line:150,column:2},end:{line:162,column:3}},type:'if',locations:[{start:{line:150,column:2},end:{line:162,column:3}},{start:{line:150,column:2},end:{line:162,column:3}}],line:150},'16':{loc:{start:{line:154,column:4},end:{line:158,column:5}},type:'if',locations:[{start:{line:154,column:4},end:{line:158,column:5}},{start:{line:154,column:4},end:{line:158,column:5}}],line:154},'17':{loc:{start:{line:203,column:2},end:{line:222,column:3}},type:'if',locations:[{start:{line:203,column:2},end:{line:222,column:3}},{start:{line:203,column:2},end:{line:222,column:3}}],line:203},'18':{loc:{start:{line:206,column:4},end:{line:207,column:25}},type:'if',locations:[{start:{line:206,column:4},end:{line:207,column:25}},{start:{line:206,column:4},end:{line:207,column:25}}],line:206},'19':{loc:{start:{line:209,column:4},end:{line:210,column:34}},type:'if',locations:[{start:{line:209,column:4},end:{line:210,column:34}},{start:{line:209,column:4},end:{line:210,column:34}}],line:209},'20':{loc:{start:{line:215,column:4},end:{line:221,column:5}},type:'if',locations:[{start:{line:215,column:4},end:{line:221,column:5}},{start:{line:215,column:4},end:{line:221,column:5}}],line:215},'21':{loc:{start:{line:223,column:2},end:{line:225,column:3}},type:'if',locations:[{start:{line:223,column:2},end:{line:225,column:3}},{start:{line:223,column:2},end:{line:225,column:3}}],line:223},'22':{loc:{start:{line:226,column:2},end:{line:228,column:3}},type:'if',locations:[{start:{line:226,column:2},end:{line:228,column:3}},{start:{line:226,column:2},end:{line:228,column:3}}],line:226},'23':{loc:{start:{line:282,column:2},end:{line:283,column:17}},type:'if',locations:[{start:{line:282,column:2},end:{line:283,column:17}},{start:{line:282,column:2},end:{line:283,column:17}}],line:282},'24':{loc:{start:{line:284,column:2},end:{line:285,column:16}},type:'if',locations:[{start:{line:284,column:2},end:{line:285,column:16}},{start:{line:284,column:2},end:{line:285,column:16}}],line:284},'25':{loc:{start:{line:286,column:2},end:{line:287,column:17}},type:'if',locations:[{start:{line:286,column:2},end:{line:287,column:17}},{start:{line:286,column:2},end:{line:287,column:17}}],line:286},'26':{loc:{start:{line:288,column:2},end:{line:289,column:16}},type:'if',locations:[{start:{line:288,column:2},end:{line:289,column:16}},{start:{line:288,column:2},end:{line:289,column:16}}],line:288},'27':{loc:{start:{line:290,column:2},end:{line:291,column:17}},type:'if',locations:[{start:{line:290,column:2},end:{line:291,column:17}},{start:{line:290,column:2},end:{line:291,column:17}}],line:290},'28':{loc:{start:{line:292,column:2},end:{line:293,column:16}},type:'if',locations:[{start:{line:292,column:2},end:{line:293,column:16}},{start:{line:292,column:2},end:{line:293,column:16}}],line:292},'29':{loc:{start:{line:294,column:2},end:{line:295,column:17}},type:'if',locations:[{start:{line:294,column:2},end:{line:295,column:17}},{start:{line:294,column:2},end:{line:295,column:17}}],line:294},'30':{loc:{start:{line:297,column:4},end:{line:298,column:19}},type:'if',locations:[{start:{line:297,column:4},end:{line:298,column:19}},{start:{line:297,column:4},end:{line:298,column:19}}],line:297},'31':{loc:{start:{line:333,column:2},end:{line:334,column:17}},type:'if',locations:[{start:{line:333,column:2},end:{line:334,column:17}},{start:{line:333,column:2},end:{line:334,column:17}}],line:333},'32':{loc:{start:{line:335,column:2},end:{line:336,column:16}},type:'if',locations:[{start:{line:335,column:2},end:{line:336,column:16}},{start:{line:335,column:2},end:{line:336,column:16}}],line:335},'33':{loc:{start:{line:337,column:2},end:{line:338,column:17}},type:'if',locations:[{start:{line:337,column:2},end:{line:338,column:17}},{start:{line:337,column:2},end:{line:338,column:17}}],line:337},'34':{loc:{start:{line:339,column:2},end:{line:340,column:16}},type:'if',locations:[{start:{line:339,column:2},end:{line:340,column:16}},{start:{line:339,column:2},end:{line:340,column:16}}],line:339},'35':{loc:{start:{line:341,column:2},end:{line:342,column:17}},type:'if',locations:[{start:{line:341,column:2},end:{line:342,column:17}},{start:{line:341,column:2},end:{line:342,column:17}}],line:341},'36':{loc:{start:{line:343,column:2},end:{line:344,column:16}},type:'if',locations:[{start:{line:343,column:2},end:{line:344,column:16}},{start:{line:343,column:2},end:{line:344,column:16}}],line:343},'37':{loc:{start:{line:345,column:2},end:{line:346,column:17}},type:'if',locations:[{start:{line:345,column:2},end:{line:346,column:17}},{start:{line:345,column:2},end:{line:346,column:17}}],line:345},'38':{loc:{start:{line:347,column:2},end:{line:348,column:16}},type:'if',locations:[{start:{line:347,column:2},end:{line:348,column:16}},{start:{line:347,column:2},end:{line:348,column:16}}],line:347},'39':{loc:{start:{line:350,column:4},end:{line:351,column:18}},type:'if',locations:[{start:{line:350,column:4},end:{line:351,column:18}},{start:{line:350,column:4},end:{line:351,column:18}}],line:350}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0],'34':[0,0],'35':[0,0],'36':[0,0],'37':[0,0],'38':[0,0],'39':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const binding=(cov_ols8u8r67.s[0]++,process.binding('http_parser'));const methods=(cov_ols8u8r67.s[1]++,binding.methods);const HTTPParser=(cov_ols8u8r67.s[2]++,binding.HTTPParser);const FreeList=(cov_ols8u8r67.s[3]++,require('internal/freelist'));const ondrain=(cov_ols8u8r67.s[4]++,require('internal/http').ondrain);const incoming=(cov_ols8u8r67.s[5]++,require('_http_incoming'));const emitDestroy=(cov_ols8u8r67.s[6]++,require('async_hooks').emitDestroy);const IncomingMessage=(cov_ols8u8r67.s[7]++,incoming.IncomingMessage);const readStart=(cov_ols8u8r67.s[8]++,incoming.readStart);const readStop=(cov_ols8u8r67.s[9]++,incoming.readStop);const debug=(cov_ols8u8r67.s[10]++,require('util').debuglog('http'));const kOnHeaders=(cov_ols8u8r67.s[11]++,HTTPParser.kOnHeaders|0);const kOnHeadersComplete=(cov_ols8u8r67.s[12]++,HTTPParser.kOnHeadersComplete|0);const kOnBody=(cov_ols8u8r67.s[13]++,HTTPParser.kOnBody|0);const kOnMessageComplete=(cov_ols8u8r67.s[14]++,HTTPParser.kOnMessageComplete|0);const kOnExecute=(cov_ols8u8r67.s[15]++,HTTPParser.kOnExecute|0);// Only called in the slow case where slow means
// that the request headers were either fragmented
// across multiple TCP packets or too large to be
// processed in a single run. This method is also
// called to process trailing HTTP headers.
function parserOnHeaders(headers,url){cov_ols8u8r67.f[0]++;cov_ols8u8r67.s[16]++;// Once we exceeded headers limit - stop collecting them
if((cov_ols8u8r67.b[1][0]++,this.maxHeaderPairs<=0)||(cov_ols8u8r67.b[1][1]++,this._headers.length<this.maxHeaderPairs)){cov_ols8u8r67.b[0][0]++;cov_ols8u8r67.s[17]++;this._headers=this._headers.concat(headers);}else{cov_ols8u8r67.b[0][1]++;}cov_ols8u8r67.s[18]++;this._url+=url;}// `headers` and `url` are set only if .onHeaders() has not been called for
// this request.
// `url` is not set for response parsers but that's not applicable here since
// all our parsers are request parsers.
function parserOnHeadersComplete(versionMajor,versionMinor,headers,method,url,statusCode,statusMessage,upgrade,shouldKeepAlive){cov_ols8u8r67.f[1]++;var parser=(cov_ols8u8r67.s[19]++,this);cov_ols8u8r67.s[20]++;if(!headers){cov_ols8u8r67.b[2][0]++;cov_ols8u8r67.s[21]++;headers=parser._headers;cov_ols8u8r67.s[22]++;parser._headers=[];}else{cov_ols8u8r67.b[2][1]++;}cov_ols8u8r67.s[23]++;if(!url){cov_ols8u8r67.b[3][0]++;cov_ols8u8r67.s[24]++;url=parser._url;cov_ols8u8r67.s[25]++;parser._url='';}else{cov_ols8u8r67.b[3][1]++;}cov_ols8u8r67.s[26]++;parser.incoming=new IncomingMessage(parser.socket);cov_ols8u8r67.s[27]++;parser.incoming.httpVersionMajor=versionMajor;cov_ols8u8r67.s[28]++;parser.incoming.httpVersionMinor=versionMinor;cov_ols8u8r67.s[29]++;parser.incoming.httpVersion=versionMajor+'.'+versionMinor;cov_ols8u8r67.s[30]++;parser.incoming.url=url;var n=(cov_ols8u8r67.s[31]++,headers.length);// If parser.maxHeaderPairs <= 0 assume that there's no limit.
cov_ols8u8r67.s[32]++;if(parser.maxHeaderPairs>0){cov_ols8u8r67.b[4][0]++;cov_ols8u8r67.s[33]++;n=Math.min(n,parser.maxHeaderPairs);}else{cov_ols8u8r67.b[4][1]++;}cov_ols8u8r67.s[34]++;parser.incoming._addHeaderLines(headers,n);cov_ols8u8r67.s[35]++;if(typeof method==='number'){cov_ols8u8r67.b[5][0]++;cov_ols8u8r67.s[36]++;// server only
parser.incoming.method=methods[method];}else{cov_ols8u8r67.b[5][1]++;cov_ols8u8r67.s[37]++;// client only
parser.incoming.statusCode=statusCode;cov_ols8u8r67.s[38]++;parser.incoming.statusMessage=statusMessage;}cov_ols8u8r67.s[39]++;if((cov_ols8u8r67.b[7][0]++,upgrade)&&(cov_ols8u8r67.b[7][1]++,parser.outgoing!==null)&&(cov_ols8u8r67.b[7][2]++,!parser.outgoing.upgrading)){cov_ols8u8r67.b[6][0]++;cov_ols8u8r67.s[40]++;// The client made non-upgrade request, and server is just advertising
// supported protocols.
//
// See RFC7230 Section 6.7
upgrade=false;}else{cov_ols8u8r67.b[6][1]++;}cov_ols8u8r67.s[41]++;parser.incoming.upgrade=upgrade;var skipBody=(cov_ols8u8r67.s[42]++,0);// response to HEAD or CONNECT
cov_ols8u8r67.s[43]++;if(!upgrade){cov_ols8u8r67.b[8][0]++;cov_ols8u8r67.s[44]++;// For upgraded connections and CONNECT method request, we'll emit this
// after parser.execute so that we can capture the first part of the new
// protocol.
skipBody=parser.onIncoming(parser.incoming,shouldKeepAlive);}else{cov_ols8u8r67.b[8][1]++;}cov_ols8u8r67.s[45]++;if(typeof skipBody!=='number'){cov_ols8u8r67.b[9][0]++;cov_ols8u8r67.s[46]++;return skipBody?(cov_ols8u8r67.b[10][0]++,1):(cov_ols8u8r67.b[10][1]++,0);}else{cov_ols8u8r67.b[9][1]++;cov_ols8u8r67.s[47]++;return skipBody;}}// XXX This is a mess.
// TODO: http.Parser should be a Writable emits request/response events.
function parserOnBody(b,start,len){cov_ols8u8r67.f[2]++;var parser=(cov_ols8u8r67.s[48]++,this);var stream=(cov_ols8u8r67.s[49]++,parser.incoming);// if the stream has already been removed, then drop it.
cov_ols8u8r67.s[50]++;if(!stream){cov_ols8u8r67.b[11][0]++;cov_ols8u8r67.s[51]++;return;}else{cov_ols8u8r67.b[11][1]++;}var socket=(cov_ols8u8r67.s[52]++,stream.socket);// pretend this was the result of a stream._read call.
cov_ols8u8r67.s[53]++;if((cov_ols8u8r67.b[13][0]++,len>0)&&(cov_ols8u8r67.b[13][1]++,!stream._dumped)){cov_ols8u8r67.b[12][0]++;var slice=(cov_ols8u8r67.s[54]++,b.slice(start,start+len));var ret=(cov_ols8u8r67.s[55]++,stream.push(slice));cov_ols8u8r67.s[56]++;if(!ret){cov_ols8u8r67.b[14][0]++;cov_ols8u8r67.s[57]++;readStop(socket);}else{cov_ols8u8r67.b[14][1]++;}}else{cov_ols8u8r67.b[12][1]++;}}function parserOnMessageComplete(){cov_ols8u8r67.f[3]++;var parser=(cov_ols8u8r67.s[58]++,this);var stream=(cov_ols8u8r67.s[59]++,parser.incoming);cov_ols8u8r67.s[60]++;if(stream){cov_ols8u8r67.b[15][0]++;cov_ols8u8r67.s[61]++;stream.complete=true;// Emit any trailing headers.
var headers=(cov_ols8u8r67.s[62]++,parser._headers);cov_ols8u8r67.s[63]++;if(headers){cov_ols8u8r67.b[16][0]++;cov_ols8u8r67.s[64]++;parser.incoming._addHeaderLines(headers,headers.length);cov_ols8u8r67.s[65]++;parser._headers=[];cov_ols8u8r67.s[66]++;parser._url='';}else{cov_ols8u8r67.b[16][1]++;}// For emit end event
cov_ols8u8r67.s[67]++;stream.push(null);}else{cov_ols8u8r67.b[15][1]++;}// force to read the next incoming message
cov_ols8u8r67.s[68]++;readStart(parser.socket);}var parsers=(cov_ols8u8r67.s[69]++,new FreeList('parsers',1000,function(){cov_ols8u8r67.f[4]++;var parser=(cov_ols8u8r67.s[70]++,new HTTPParser(HTTPParser.REQUEST));cov_ols8u8r67.s[71]++;parser._headers=[];cov_ols8u8r67.s[72]++;parser._url='';cov_ols8u8r67.s[73]++;parser._consumed=false;cov_ols8u8r67.s[74]++;parser.socket=null;cov_ols8u8r67.s[75]++;parser.incoming=null;cov_ols8u8r67.s[76]++;parser.outgoing=null;// Only called in the slow case where slow means
// that the request headers were either fragmented
// across multiple TCP packets or too large to be
// processed in a single run. This method is also
// called to process trailing HTTP headers.
cov_ols8u8r67.s[77]++;parser[kOnHeaders]=parserOnHeaders;cov_ols8u8r67.s[78]++;parser[kOnHeadersComplete]=parserOnHeadersComplete;cov_ols8u8r67.s[79]++;parser[kOnBody]=parserOnBody;cov_ols8u8r67.s[80]++;parser[kOnMessageComplete]=parserOnMessageComplete;cov_ols8u8r67.s[81]++;parser[kOnExecute]=null;cov_ols8u8r67.s[82]++;return parser;}));// Free the parser and also break any links that it
// might have to any other things.
// TODO: All parser data should be attached to a
// single object, so that it can be easily cleaned
// up by doing `parser.data = {}`, which should
// be done in FreeList.free.  `parsers.free(parser)`
// should be all that is needed.
function freeParser(parser,req,socket){cov_ols8u8r67.f[5]++;cov_ols8u8r67.s[83]++;if(parser){cov_ols8u8r67.b[17][0]++;cov_ols8u8r67.s[84]++;parser._headers=[];cov_ols8u8r67.s[85]++;parser.onIncoming=null;cov_ols8u8r67.s[86]++;if(parser._consumed){cov_ols8u8r67.b[18][0]++;cov_ols8u8r67.s[87]++;parser.unconsume();}else{cov_ols8u8r67.b[18][1]++;}cov_ols8u8r67.s[88]++;parser._consumed=false;cov_ols8u8r67.s[89]++;if(parser.socket){cov_ols8u8r67.b[19][0]++;cov_ols8u8r67.s[90]++;parser.socket.parser=null;}else{cov_ols8u8r67.b[19][1]++;}cov_ols8u8r67.s[91]++;parser.socket=null;cov_ols8u8r67.s[92]++;parser.incoming=null;cov_ols8u8r67.s[93]++;parser.outgoing=null;cov_ols8u8r67.s[94]++;parser[kOnExecute]=null;cov_ols8u8r67.s[95]++;if(parsers.free(parser)===false){cov_ols8u8r67.b[20][0]++;cov_ols8u8r67.s[96]++;parser.close();}else{cov_ols8u8r67.b[20][1]++;cov_ols8u8r67.s[97]++;// Since the Parser destructor isn't going to run the destroy() callbacks
// it needs to be triggered manually.
emitDestroy(parser.getAsyncId());}}else{cov_ols8u8r67.b[17][1]++;}cov_ols8u8r67.s[98]++;if(req){cov_ols8u8r67.b[21][0]++;cov_ols8u8r67.s[99]++;req.parser=null;}else{cov_ols8u8r67.b[21][1]++;}cov_ols8u8r67.s[100]++;if(socket){cov_ols8u8r67.b[22][0]++;cov_ols8u8r67.s[101]++;socket.parser=null;}else{cov_ols8u8r67.b[22][1]++;}}function httpSocketSetup(socket){cov_ols8u8r67.f[6]++;cov_ols8u8r67.s[102]++;socket.removeListener('drain',ondrain);cov_ols8u8r67.s[103]++;socket.on('drain',ondrain);}/**
 * Verifies that the given val is a valid HTTP token
 * per the rules defined in RFC 7230
 * See https://tools.ietf.org/html/rfc7230#section-3.2.6
 *
 * Allowed characters in an HTTP token:
 * ^_`a-z  94-122
 * A-Z     65-90
 * -       45
 * 0-9     48-57
 * !       33
 * #$%&'   35-39
 * *+      42-43
 * .       46
 * |       124
 * ~       126
 *
 * This implementation of checkIsHttpToken() loops over the string instead of
 * using a regular expression since the former is up to 180% faster with v8 4.9
 * depending on the string length (the shorter the string, the larger the
 * performance difference)
 *
 * Additionally, checkIsHttpToken() is currently designed to be inlinable by v8,
 * so take care when making changes to the implementation so that the source
 * code size does not exceed v8's default max_inlined_source_size setting.
 **/var validTokens=(cov_ols8u8r67.s[104]++,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,// 0 - 15
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,// 16 - 31
0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,// 32 - 47
1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,// 48 - 63
0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 64 - 79
1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,// 80 - 95
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 96 - 111
1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,// 112 - 127
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,// 128 ...
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0// ... 255
]);function checkIsHttpToken(val){cov_ols8u8r67.f[7]++;cov_ols8u8r67.s[105]++;if(!validTokens[val.charCodeAt(0)]){cov_ols8u8r67.b[23][0]++;cov_ols8u8r67.s[106]++;return false;}else{cov_ols8u8r67.b[23][1]++;}cov_ols8u8r67.s[107]++;if(val.length<2){cov_ols8u8r67.b[24][0]++;cov_ols8u8r67.s[108]++;return true;}else{cov_ols8u8r67.b[24][1]++;}cov_ols8u8r67.s[109]++;if(!validTokens[val.charCodeAt(1)]){cov_ols8u8r67.b[25][0]++;cov_ols8u8r67.s[110]++;return false;}else{cov_ols8u8r67.b[25][1]++;}cov_ols8u8r67.s[111]++;if(val.length<3){cov_ols8u8r67.b[26][0]++;cov_ols8u8r67.s[112]++;return true;}else{cov_ols8u8r67.b[26][1]++;}cov_ols8u8r67.s[113]++;if(!validTokens[val.charCodeAt(2)]){cov_ols8u8r67.b[27][0]++;cov_ols8u8r67.s[114]++;return false;}else{cov_ols8u8r67.b[27][1]++;}cov_ols8u8r67.s[115]++;if(val.length<4){cov_ols8u8r67.b[28][0]++;cov_ols8u8r67.s[116]++;return true;}else{cov_ols8u8r67.b[28][1]++;}cov_ols8u8r67.s[117]++;if(!validTokens[val.charCodeAt(3)]){cov_ols8u8r67.b[29][0]++;cov_ols8u8r67.s[118]++;return false;}else{cov_ols8u8r67.b[29][1]++;}cov_ols8u8r67.s[119]++;for(var i=4;i<val.length;++i){cov_ols8u8r67.s[120]++;if(!validTokens[val.charCodeAt(i)]){cov_ols8u8r67.b[30][0]++;cov_ols8u8r67.s[121]++;return false;}else{cov_ols8u8r67.b[30][1]++;}}cov_ols8u8r67.s[122]++;return true;}/**
 * True if val contains an invalid field-vchar
 *  field-value    = *( field-content / obs-fold )
 *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]
 *  field-vchar    = VCHAR / obs-text
 *
 * checkInvalidHeaderChar() is currently designed to be inlinable by v8,
 * so take care when making changes to the implementation so that the source
 * code size does not exceed v8's default max_inlined_source_size setting.
 **/var validHdrChars=(cov_ols8u8r67.s[123]++,[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,// 0 - 15
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,// 16 - 31
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 32 - 47
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 48 - 63
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 64 - 79
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 80 - 95
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 96 - 111
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,// 112 - 127
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,// 128 ...
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1// ... 255
]);function checkInvalidHeaderChar(val){cov_ols8u8r67.f[8]++;cov_ols8u8r67.s[124]++;val+='';cov_ols8u8r67.s[125]++;if(val.length<1){cov_ols8u8r67.b[31][0]++;cov_ols8u8r67.s[126]++;return false;}else{cov_ols8u8r67.b[31][1]++;}cov_ols8u8r67.s[127]++;if(!validHdrChars[val.charCodeAt(0)]){cov_ols8u8r67.b[32][0]++;cov_ols8u8r67.s[128]++;return true;}else{cov_ols8u8r67.b[32][1]++;}cov_ols8u8r67.s[129]++;if(val.length<2){cov_ols8u8r67.b[33][0]++;cov_ols8u8r67.s[130]++;return false;}else{cov_ols8u8r67.b[33][1]++;}cov_ols8u8r67.s[131]++;if(!validHdrChars[val.charCodeAt(1)]){cov_ols8u8r67.b[34][0]++;cov_ols8u8r67.s[132]++;return true;}else{cov_ols8u8r67.b[34][1]++;}cov_ols8u8r67.s[133]++;if(val.length<3){cov_ols8u8r67.b[35][0]++;cov_ols8u8r67.s[134]++;return false;}else{cov_ols8u8r67.b[35][1]++;}cov_ols8u8r67.s[135]++;if(!validHdrChars[val.charCodeAt(2)]){cov_ols8u8r67.b[36][0]++;cov_ols8u8r67.s[136]++;return true;}else{cov_ols8u8r67.b[36][1]++;}cov_ols8u8r67.s[137]++;if(val.length<4){cov_ols8u8r67.b[37][0]++;cov_ols8u8r67.s[138]++;return false;}else{cov_ols8u8r67.b[37][1]++;}cov_ols8u8r67.s[139]++;if(!validHdrChars[val.charCodeAt(3)]){cov_ols8u8r67.b[38][0]++;cov_ols8u8r67.s[140]++;return true;}else{cov_ols8u8r67.b[38][1]++;}cov_ols8u8r67.s[141]++;for(var i=4;i<val.length;++i){cov_ols8u8r67.s[142]++;if(!validHdrChars[val.charCodeAt(i)]){cov_ols8u8r67.b[39][0]++;cov_ols8u8r67.s[143]++;return true;}else{cov_ols8u8r67.b[39][1]++;}}cov_ols8u8r67.s[144]++;return false;}cov_ols8u8r67.s[145]++;module.exports={_checkInvalidHeaderChar:checkInvalidHeaderChar,_checkIsHttpToken:checkIsHttpToken,chunkExpression:/(?:^|\W)chunked(?:$|\W)/i,continueExpression:/(?:^|\W)100-continue(?:$|\W)/i,CRLF:'\r\n',debug,freeParser,httpSocketSetup,methods,parsers};