// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
'use strict';var cov_1a102ia3eb=function(){var path='_http_incoming.js',hash='437ea68f7eabb925b4b3d6cfe69688978b8e401f',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'_http_incoming.js',statementMap:{'0':{start:{line:24,column:13},end:{line:24,column:28}},'1':{start:{line:25,column:15},end:{line:25,column:32}},'2':{start:{line:28,column:2},end:{line:29,column:20}},'3':{start:{line:29,column:4},end:{line:29,column:20}},'4':{start:{line:33,column:2},end:{line:34,column:19}},'5':{start:{line:34,column:4},end:{line:34,column:19}},'6':{start:{line:39,column:2},end:{line:39,column:29}},'7':{start:{line:46,column:2},end:{line:46,column:41}},'8':{start:{line:48,column:2},end:{line:48,column:23}},'9':{start:{line:49,column:2},end:{line:49,column:27}},'10':{start:{line:51,column:2},end:{line:51,column:31}},'11':{start:{line:52,column:2},end:{line:52,column:31}},'12':{start:{line:53,column:2},end:{line:53,column:26}},'13':{start:{line:54,column:2},end:{line:54,column:24}},'14':{start:{line:55,column:2},end:{line:55,column:20}},'15':{start:{line:56,column:2},end:{line:56,column:23}},'16':{start:{line:57,column:2},end:{line:57,column:21}},'17':{start:{line:58,column:2},end:{line:58,column:24}},'18':{start:{line:60,column:2},end:{line:60,column:23}},'19':{start:{line:62,column:2},end:{line:62,column:22}},'20':{start:{line:65,column:2},end:{line:65,column:16}},'21':{start:{line:66,column:2},end:{line:66,column:21}},'22':{start:{line:69,column:2},end:{line:69,column:25}},'23':{start:{line:70,column:2},end:{line:70,column:28}},'24':{start:{line:71,column:2},end:{line:71,column:23}},'25':{start:{line:74,column:2},end:{line:74,column:26}},'26':{start:{line:78,column:2},end:{line:78,column:23}},'27':{start:{line:80,column:0},end:{line:80,column:48}},'28':{start:{line:83,column:0},end:{line:88,column:2}},'29':{start:{line:84,column:2},end:{line:85,column:33}},'30':{start:{line:85,column:4},end:{line:85,column:33}},'31':{start:{line:86,column:2},end:{line:86,column:32}},'32':{start:{line:87,column:2},end:{line:87,column:14}},'33':{start:{line:91,column:0},end:{line:97,column:2}},'34':{start:{line:92,column:2},end:{line:93,column:44}},'35':{start:{line:93,column:4},end:{line:93,column:44}},'36':{start:{line:94,column:2},end:{line:94,column:25}},'37':{start:{line:95,column:2},end:{line:95,column:45}},'38':{start:{line:96,column:2},end:{line:96,column:22}},'39':{start:{line:100,column:0},end:{line:106,column:2}},'40':{start:{line:104,column:2},end:{line:105,column:27}},'41':{start:{line:105,column:4},end:{line:105,column:27}},'42':{start:{line:112,column:0},end:{line:115,column:2}},'43':{start:{line:113,column:2},end:{line:114,column:31}},'44':{start:{line:114,column:4},end:{line:114,column:31}},'45':{start:{line:118,column:0},end:{line:118,column:60}},'46':{start:{line:120,column:2},end:{line:133,column:3}},'47':{start:{line:122,column:4},end:{line:128,column:5}},'48':{start:{line:123,column:6},end:{line:123,column:33}},'49':{start:{line:124,column:6},end:{line:124,column:27}},'50':{start:{line:126,column:6},end:{line:126,column:32}},'51':{start:{line:127,column:6},end:{line:127,column:26}},'52':{start:{line:130,column:4},end:{line:132,column:5}},'53':{start:{line:131,column:6},end:{line:131,column:60}},'54':{start:{line:151,column:12},end:{line:151,column:17}},'55':{start:{line:152,column:2},end:{line:274,column:3}},'56':{start:{line:153,column:4},end:{line:273,column:5}},'57':{start:{line:156,column:8},end:{line:156,column:30}},'58':{start:{line:159,column:8},end:{line:159,column:32}},'59':{start:{line:162,column:8},end:{line:162,column:28}},'60':{start:{line:165,column:8},end:{line:165,column:25}},'61':{start:{line:168,column:8},end:{line:168,column:22}},'62':{start:{line:171,column:8},end:{line:171,column:31}},'63':{start:{line:174,column:8},end:{line:174,column:37}},'64':{start:{line:177,column:8},end:{line:177,column:35}},'65':{start:{line:180,column:8},end:{line:180,column:37}},'66':{start:{line:183,column:8},end:{line:183,column:22}},'67':{start:{line:186,column:8},end:{line:186,column:26}},'68':{start:{line:189,column:8},end:{line:189,column:30}},'69':{start:{line:192,column:8},end:{line:192,column:29}},'70':{start:{line:195,column:8},end:{line:195,column:22}},'71':{start:{line:198,column:8},end:{line:198,column:31}},'72':{start:{line:201,column:8},end:{line:201,column:24}},'73':{start:{line:204,column:8},end:{line:204,column:21}},'74':{start:{line:207,column:8},end:{line:207,column:25}},'75':{start:{line:210,column:8},end:{line:210,column:24}},'76':{start:{line:213,column:8},end:{line:213,column:30}},'77':{start:{line:219,column:8},end:{line:219,column:41}},'78':{start:{line:222,column:8},end:{line:222,column:28}},'79':{start:{line:225,column:8},end:{line:225,column:34}},'80':{start:{line:228,column:8},end:{line:228,column:37}},'81':{start:{line:231,column:8},end:{line:231,column:28}},'82':{start:{line:234,column:8},end:{line:234,column:40}},'83':{start:{line:237,column:8},end:{line:237,column:30}},'84':{start:{line:240,column:8},end:{line:240,column:31}},'85':{start:{line:243,column:8},end:{line:243,column:30}},'86':{start:{line:246,column:8},end:{line:246,column:32}},'87':{start:{line:249,column:8},end:{line:249,column:37}},'88':{start:{line:252,column:8},end:{line:252,column:30}},'89':{start:{line:255,column:8},end:{line:255,column:39}},'90':{start:{line:258,column:8},end:{line:258,column:39}},'91':{start:{line:261,column:8},end:{line:261,column:39}},'92':{start:{line:264,column:8},end:{line:264,column:40}},'93':{start:{line:267,column:8},end:{line:267,column:41}},'94':{start:{line:269,column:8},end:{line:270,column:34}},'95':{start:{line:270,column:10},end:{line:270,column:34}},'96':{start:{line:271,column:8},end:{line:271,column:36}},'97':{start:{line:272,column:8},end:{line:272,column:19}},'98':{start:{line:285,column:0},end:{line:285,column:58}},'99':{start:{line:287,column:2},end:{line:287,column:34}},'100':{start:{line:288,column:13},end:{line:288,column:32}},'101':{start:{line:289,column:2},end:{line:308,column:3}},'102':{start:{line:290,column:4},end:{line:290,column:27}},'103':{start:{line:292,column:4},end:{line:296,column:5}},'104':{start:{line:293,column:6},end:{line:293,column:56}},'105':{start:{line:295,column:6},end:{line:295,column:26}},'106':{start:{line:297,column:9},end:{line:308,column:3}},'107':{start:{line:299,column:4},end:{line:303,column:5}},'108':{start:{line:300,column:6},end:{line:300,column:37}},'109':{start:{line:302,column:6},end:{line:302,column:35}},'110':{start:{line:306,column:4},end:{line:307,column:26}},'111':{start:{line:307,column:6},end:{line:307,column:26}},'112':{start:{line:314,column:0},end:{line:322,column:2}},'113':{start:{line:315,column:2},end:{line:321,column:3}},'114':{start:{line:316,column:4},end:{line:316,column:24}},'115':{start:{line:319,column:4},end:{line:319,column:36}},'116':{start:{line:320,column:4},end:{line:320,column:18}},'117':{start:{line:324,column:0},end:{line:328,column:2}}},fnMap:{'0':{name:'readStart',decl:{start:{line:27,column:9},end:{line:27,column:18}},loc:{start:{line:27,column:27},end:{line:30,column:1}},line:27},'1':{name:'readStop',decl:{start:{line:32,column:9},end:{line:32,column:17}},loc:{start:{line:32,column:26},end:{line:35,column:1}},line:32},'2':{name:'IncomingMessage',decl:{start:{line:38,column:9},end:{line:38,column:24}},loc:{start:{line:38,column:33},end:{line:79,column:1}},line:38},'3':{name:'setTimeout',decl:{start:{line:83,column:48},end:{line:83,column:58}},loc:{start:{line:83,column:76},end:{line:88,column:1}},line:83},'4':{name:'read',decl:{start:{line:91,column:42},end:{line:91,column:46}},loc:{start:{line:91,column:50},end:{line:97,column:1}},line:91},'5':{name:'_read',decl:{start:{line:100,column:43},end:{line:100,column:48}},loc:{start:{line:100,column:52},end:{line:106,column:1}},line:100},'6':{name:'destroy',decl:{start:{line:112,column:45},end:{line:112,column:52}},loc:{start:{line:112,column:60},end:{line:115,column:1}},line:112},'7':{name:'_addHeaderLines',decl:{start:{line:119,column:9},end:{line:119,column:24}},loc:{start:{line:119,column:37},end:{line:134,column:1}},line:119},'8':{name:'matchKnownFields',decl:{start:{line:150,column:9},end:{line:150,column:25}},loc:{start:{line:150,column:33},end:{line:275,column:1}},line:150},'9':{name:'_addHeaderLine',decl:{start:{line:286,column:9},end:{line:286,column:23}},loc:{start:{line:286,column:44},end:{line:309,column:1}},line:286},'10':{name:'_dump',decl:{start:{line:314,column:43},end:{line:314,column:48}},loc:{start:{line:314,column:51},end:{line:322,column:1}},line:314}},branchMap:{'0':{loc:{start:{line:28,column:2},end:{line:29,column:20}},type:'if',locations:[{start:{line:28,column:2},end:{line:29,column:20}},{start:{line:28,column:2},end:{line:29,column:20}}],line:28},'1':{loc:{start:{line:28,column:6},end:{line:28,column:50}},type:'binary-expr',locations:[{start:{line:28,column:6},end:{line:28,column:12}},{start:{line:28,column:16},end:{line:28,column:31}},{start:{line:28,column:35},end:{line:28,column:50}}],line:28},'2':{loc:{start:{line:33,column:2},end:{line:34,column:19}},type:'if',locations:[{start:{line:33,column:2},end:{line:34,column:19}},{start:{line:33,column:2},end:{line:34,column:19}}],line:33},'3':{loc:{start:{line:84,column:2},end:{line:85,column:33}},type:'if',locations:[{start:{line:84,column:2},end:{line:85,column:33}},{start:{line:84,column:2},end:{line:85,column:33}}],line:84},'4':{loc:{start:{line:92,column:2},end:{line:93,column:44}},type:'if',locations:[{start:{line:92,column:2},end:{line:93,column:44}},{start:{line:92,column:2},end:{line:93,column:44}}],line:92},'5':{loc:{start:{line:104,column:2},end:{line:105,column:27}},type:'if',locations:[{start:{line:104,column:2},end:{line:105,column:27}},{start:{line:104,column:2},end:{line:105,column:27}}],line:104},'6':{loc:{start:{line:113,column:2},end:{line:114,column:31}},type:'if',locations:[{start:{line:113,column:2},end:{line:114,column:31}},{start:{line:113,column:2},end:{line:114,column:31}}],line:113},'7':{loc:{start:{line:120,column:2},end:{line:133,column:3}},type:'if',locations:[{start:{line:120,column:2},end:{line:133,column:3}},{start:{line:120,column:2},end:{line:133,column:3}}],line:120},'8':{loc:{start:{line:120,column:6},end:{line:120,column:31}},type:'binary-expr',locations:[{start:{line:120,column:6},end:{line:120,column:13}},{start:{line:120,column:17},end:{line:120,column:31}}],line:120},'9':{loc:{start:{line:122,column:4},end:{line:128,column:5}},type:'if',locations:[{start:{line:122,column:4},end:{line:128,column:5}},{start:{line:122,column:4},end:{line:128,column:5}}],line:122},'10':{loc:{start:{line:153,column:4},end:{line:273,column:5}},type:'switch',locations:[{start:{line:154,column:6},end:{line:154,column:26}},{start:{line:155,column:6},end:{line:156,column:30}},{start:{line:157,column:6},end:{line:157,column:28}},{start:{line:158,column:6},end:{line:159,column:32}},{start:{line:160,column:6},end:{line:160,column:24}},{start:{line:161,column:6},end:{line:162,column:28}},{start:{line:163,column:6},end:{line:163,column:21}},{start:{line:164,column:6},end:{line:165,column:25}},{start:{line:166,column:6},end:{line:166,column:18}},{start:{line:167,column:6},end:{line:168,column:22}},{start:{line:169,column:6},end:{line:169,column:27}},{start:{line:170,column:6},end:{line:171,column:31}},{start:{line:172,column:6},end:{line:172,column:33}},{start:{line:173,column:6},end:{line:174,column:37}},{start:{line:175,column:6},end:{line:175,column:31}},{start:{line:176,column:6},end:{line:177,column:35}},{start:{line:178,column:6},end:{line:178,column:33}},{start:{line:179,column:6},end:{line:180,column:37}},{start:{line:181,column:6},end:{line:181,column:18}},{start:{line:182,column:6},end:{line:183,column:22}},{start:{line:184,column:6},end:{line:184,column:22}},{start:{line:185,column:6},end:{line:186,column:26}},{start:{line:187,column:6},end:{line:187,column:26}},{start:{line:188,column:6},end:{line:189,column:30}},{start:{line:190,column:6},end:{line:190,column:25}},{start:{line:191,column:6},end:{line:192,column:29}},{start:{line:193,column:6},end:{line:193,column:18}},{start:{line:194,column:6},end:{line:195,column:22}},{start:{line:196,column:6},end:{line:196,column:27}},{start:{line:197,column:6},end:{line:198,column:31}},{start:{line:199,column:6},end:{line:199,column:20}},{start:{line:200,column:6},end:{line:201,column:24}},{start:{line:202,column:6},end:{line:202,column:17}},{start:{line:203,column:6},end:{line:204,column:21}},{start:{line:205,column:6},end:{line:205,column:21}},{start:{line:206,column:6},end:{line:207,column:25}},{start:{line:208,column:6},end:{line:208,column:24}},{start:{line:209,column:6},end:{line:210,column:24}},{start:{line:211,column:6},end:{line:211,column:20}},{start:{line:212,column:6},end:{line:213,column:30}},{start:{line:217,column:6},end:{line:217,column:31}},{start:{line:218,column:6},end:{line:219,column:41}},{start:{line:220,column:6},end:{line:220,column:18}},{start:{line:221,column:6},end:{line:222,column:28}},{start:{line:223,column:6},end:{line:223,column:24}},{start:{line:224,column:6},end:{line:225,column:34}},{start:{line:226,column:6},end:{line:226,column:27}},{start:{line:227,column:6},end:{line:228,column:37}},{start:{line:229,column:6},end:{line:229,column:18}},{start:{line:230,column:6},end:{line:231,column:28}},{start:{line:232,column:6},end:{line:232,column:30}},{start:{line:233,column:6},end:{line:234,column:40}},{start:{line:235,column:6},end:{line:235,column:20}},{start:{line:236,column:6},end:{line:237,column:30}},{start:{line:238,column:6},end:{line:238,column:21}},{start:{line:239,column:6},end:{line:240,column:31}},{start:{line:241,column:6},end:{line:241,column:20}},{start:{line:242,column:6},end:{line:243,column:30}},{start:{line:244,column:6},end:{line:244,column:22}},{start:{line:245,column:6},end:{line:246,column:32}},{start:{line:247,column:6},end:{line:247,column:27}},{start:{line:248,column:6},end:{line:249,column:37}},{start:{line:250,column:6},end:{line:250,column:20}},{start:{line:251,column:6},end:{line:252,column:30}},{start:{line:253,column:6},end:{line:253,column:29}},{start:{line:254,column:6},end:{line:255,column:39}},{start:{line:256,column:6},end:{line:256,column:29}},{start:{line:257,column:6},end:{line:258,column:39}},{start:{line:259,column:6},end:{line:259,column:29}},{start:{line:260,column:6},end:{line:261,column:39}},{start:{line:262,column:6},end:{line:262,column:30}},{start:{line:263,column:6},end:{line:264,column:40}},{start:{line:265,column:6},end:{line:265,column:31}},{start:{line:266,column:6},end:{line:267,column:41}},{start:{line:268,column:6},end:{line:272,column:19}}],line:153},'11':{loc:{start:{line:269,column:8},end:{line:270,column:34}},type:'if',locations:[{start:{line:269,column:8},end:{line:270,column:34}},{start:{line:269,column:8},end:{line:270,column:34}}],line:269},'12':{loc:{start:{line:289,column:2},end:{line:308,column:3}},type:'if',locations:[{start:{line:289,column:2},end:{line:308,column:3}},{start:{line:289,column:2},end:{line:308,column:3}}],line:289},'13':{loc:{start:{line:289,column:6},end:{line:289,column:30}},type:'binary-expr',locations:[{start:{line:289,column:6},end:{line:289,column:16}},{start:{line:289,column:20},end:{line:289,column:30}}],line:289},'14':{loc:{start:{line:292,column:4},end:{line:296,column:5}},type:'if',locations:[{start:{line:292,column:4},end:{line:296,column:5}},{start:{line:292,column:4},end:{line:296,column:5}}],line:292},'15':{loc:{start:{line:293,column:22},end:{line:293,column:46}},type:'cond-expr',locations:[{start:{line:293,column:35},end:{line:293,column:39}},{start:{line:293,column:42},end:{line:293,column:46}}],line:293},'16':{loc:{start:{line:297,column:9},end:{line:308,column:3}},type:'if',locations:[{start:{line:297,column:9},end:{line:308,column:3}},{start:{line:297,column:9},end:{line:308,column:3}}],line:297},'17':{loc:{start:{line:299,column:4},end:{line:303,column:5}},type:'if',locations:[{start:{line:299,column:4},end:{line:303,column:5}},{start:{line:299,column:4},end:{line:303,column:5}}],line:299},'18':{loc:{start:{line:306,column:4},end:{line:307,column:26}},type:'if',locations:[{start:{line:306,column:4},end:{line:307,column:26}},{start:{line:306,column:4},end:{line:307,column:26}}],line:306},'19':{loc:{start:{line:315,column:2},end:{line:321,column:3}},type:'if',locations:[{start:{line:315,column:2},end:{line:321,column:3}},{start:{line:315,column:2},end:{line:321,column:3}}],line:315}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0},b:{'0':[0,0],'1':[0,0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const util=(cov_1a102ia3eb.s[0]++,require('util'));const Stream=(cov_1a102ia3eb.s[1]++,require('stream'));function readStart(socket){cov_1a102ia3eb.f[0]++;cov_1a102ia3eb.s[2]++;if((cov_1a102ia3eb.b[1][0]++,socket)&&(cov_1a102ia3eb.b[1][1]++,!socket._paused)&&(cov_1a102ia3eb.b[1][2]++,socket.readable)){cov_1a102ia3eb.b[0][0]++;cov_1a102ia3eb.s[3]++;socket.resume();}else{cov_1a102ia3eb.b[0][1]++;}}function readStop(socket){cov_1a102ia3eb.f[1]++;cov_1a102ia3eb.s[4]++;if(socket){cov_1a102ia3eb.b[2][0]++;cov_1a102ia3eb.s[5]++;socket.pause();}else{cov_1a102ia3eb.b[2][1]++;}}/* Abstract base class for ServerRequest and ClientResponse. */function IncomingMessage(socket){cov_1a102ia3eb.f[2]++;cov_1a102ia3eb.s[6]++;Stream.Readable.call(this);// Set this to `true` so that stream.Readable won't attempt to read more
// data on `IncomingMessage#push` (see `maybeReadMore` in
// `_stream_readable.js`). This is important for proper tracking of
// `IncomingMessage#_consuming` which is used to dump requests that users
// haven't attempted to read.
cov_1a102ia3eb.s[7]++;this._readableState.readingMore=true;cov_1a102ia3eb.s[8]++;this.socket=socket;cov_1a102ia3eb.s[9]++;this.connection=socket;cov_1a102ia3eb.s[10]++;this.httpVersionMajor=null;cov_1a102ia3eb.s[11]++;this.httpVersionMinor=null;cov_1a102ia3eb.s[12]++;this.httpVersion=null;cov_1a102ia3eb.s[13]++;this.complete=false;cov_1a102ia3eb.s[14]++;this.headers={};cov_1a102ia3eb.s[15]++;this.rawHeaders=[];cov_1a102ia3eb.s[16]++;this.trailers={};cov_1a102ia3eb.s[17]++;this.rawTrailers=[];cov_1a102ia3eb.s[18]++;this.readable=true;cov_1a102ia3eb.s[19]++;this.upgrade=null;// request (server) only
cov_1a102ia3eb.s[20]++;this.url='';cov_1a102ia3eb.s[21]++;this.method=null;// response (client) only
cov_1a102ia3eb.s[22]++;this.statusCode=null;cov_1a102ia3eb.s[23]++;this.statusMessage=null;cov_1a102ia3eb.s[24]++;this.client=socket;// flag for backwards compatibility grossness.
cov_1a102ia3eb.s[25]++;this._consuming=false;// flag for when we decide that this message cannot possibly be
// read by the user, so there's no point continuing to handle it.
cov_1a102ia3eb.s[26]++;this._dumped=false;}cov_1a102ia3eb.s[27]++;util.inherits(IncomingMessage,Stream.Readable);cov_1a102ia3eb.s[28]++;IncomingMessage.prototype.setTimeout=function setTimeout(msecs,callback){cov_1a102ia3eb.f[3]++;cov_1a102ia3eb.s[29]++;if(callback){cov_1a102ia3eb.b[3][0]++;cov_1a102ia3eb.s[30]++;this.on('timeout',callback);}else{cov_1a102ia3eb.b[3][1]++;}cov_1a102ia3eb.s[31]++;this.socket.setTimeout(msecs);cov_1a102ia3eb.s[32]++;return this;};cov_1a102ia3eb.s[33]++;IncomingMessage.prototype.read=function read(n){cov_1a102ia3eb.f[4]++;cov_1a102ia3eb.s[34]++;if(!this._consuming){cov_1a102ia3eb.b[4][0]++;cov_1a102ia3eb.s[35]++;this._readableState.readingMore=false;}else{cov_1a102ia3eb.b[4][1]++;}cov_1a102ia3eb.s[36]++;this._consuming=true;cov_1a102ia3eb.s[37]++;this.read=Stream.Readable.prototype.read;cov_1a102ia3eb.s[38]++;return this.read(n);};cov_1a102ia3eb.s[39]++;IncomingMessage.prototype._read=function _read(n){cov_1a102ia3eb.f[5]++;cov_1a102ia3eb.s[40]++;// We actually do almost nothing here, because the parserOnBody
// function fills up our internal buffer directly.  However, we
// do need to unpause the underlying socket so that it flows.
if(this.socket.readable){cov_1a102ia3eb.b[5][0]++;cov_1a102ia3eb.s[41]++;readStart(this.socket);}else{cov_1a102ia3eb.b[5][1]++;}};// It's possible that the socket will be destroyed, and removed from
// any messages, before ever calling this.  In that case, just skip
// it, since something else is destroying this connection anyway.
cov_1a102ia3eb.s[42]++;IncomingMessage.prototype.destroy=function destroy(error){cov_1a102ia3eb.f[6]++;cov_1a102ia3eb.s[43]++;if(this.socket){cov_1a102ia3eb.b[6][0]++;cov_1a102ia3eb.s[44]++;this.socket.destroy(error);}else{cov_1a102ia3eb.b[6][1]++;}};cov_1a102ia3eb.s[45]++;IncomingMessage.prototype._addHeaderLines=_addHeaderLines;function _addHeaderLines(headers,n){cov_1a102ia3eb.f[7]++;cov_1a102ia3eb.s[46]++;if((cov_1a102ia3eb.b[8][0]++,headers)&&(cov_1a102ia3eb.b[8][1]++,headers.length)){cov_1a102ia3eb.b[7][0]++;var dest;cov_1a102ia3eb.s[47]++;if(this.complete){cov_1a102ia3eb.b[9][0]++;cov_1a102ia3eb.s[48]++;this.rawTrailers=headers;cov_1a102ia3eb.s[49]++;dest=this.trailers;}else{cov_1a102ia3eb.b[9][1]++;cov_1a102ia3eb.s[50]++;this.rawHeaders=headers;cov_1a102ia3eb.s[51]++;dest=this.headers;}cov_1a102ia3eb.s[52]++;for(var i=0;i<n;i+=2){cov_1a102ia3eb.s[53]++;this._addHeaderLine(headers[i],headers[i+1],dest);}}else{cov_1a102ia3eb.b[7][1]++;}}// This function is used to help avoid the lowercasing of a field name if it
// matches a 'traditional cased' version of a field name. It then returns the
// lowercased name to both avoid calling toLowerCase() a second time and to
// indicate whether the field was a 'no duplicates' field. If a field is not a
// 'no duplicates' field, a `0` byte is prepended as a flag. The one exception
// to this is the Set-Cookie header which is indicated by a `1` byte flag, since
// it is an 'array' field and thus is treated differently in _addHeaderLines().
// TODO: perhaps http_parser could be returning both raw and lowercased versions
// of known header names to avoid us having to call toLowerCase() for those
// headers.
// 'array' header list is taken from:
// https://mxr.mozilla.org/mozilla/source/netwerk/protocol/http/src/nsHttpHeaderArray.cpp
function matchKnownFields(field){cov_1a102ia3eb.f[8]++;var low=(cov_1a102ia3eb.s[54]++,false);cov_1a102ia3eb.s[55]++;while(true){cov_1a102ia3eb.s[56]++;switch(field){case'Content-Type':cov_1a102ia3eb.b[10][0]++;case'content-type':cov_1a102ia3eb.b[10][1]++;cov_1a102ia3eb.s[57]++;return'content-type';case'Content-Length':cov_1a102ia3eb.b[10][2]++;case'content-length':cov_1a102ia3eb.b[10][3]++;cov_1a102ia3eb.s[58]++;return'content-length';case'User-Agent':cov_1a102ia3eb.b[10][4]++;case'user-agent':cov_1a102ia3eb.b[10][5]++;cov_1a102ia3eb.s[59]++;return'user-agent';case'Referer':cov_1a102ia3eb.b[10][6]++;case'referer':cov_1a102ia3eb.b[10][7]++;cov_1a102ia3eb.s[60]++;return'referer';case'Host':cov_1a102ia3eb.b[10][8]++;case'host':cov_1a102ia3eb.b[10][9]++;cov_1a102ia3eb.s[61]++;return'host';case'Authorization':cov_1a102ia3eb.b[10][10]++;case'authorization':cov_1a102ia3eb.b[10][11]++;cov_1a102ia3eb.s[62]++;return'authorization';case'Proxy-Authorization':cov_1a102ia3eb.b[10][12]++;case'proxy-authorization':cov_1a102ia3eb.b[10][13]++;cov_1a102ia3eb.s[63]++;return'proxy-authorization';case'If-Modified-Since':cov_1a102ia3eb.b[10][14]++;case'if-modified-since':cov_1a102ia3eb.b[10][15]++;cov_1a102ia3eb.s[64]++;return'if-modified-since';case'If-Unmodified-Since':cov_1a102ia3eb.b[10][16]++;case'if-unmodified-since':cov_1a102ia3eb.b[10][17]++;cov_1a102ia3eb.s[65]++;return'if-unmodified-since';case'From':cov_1a102ia3eb.b[10][18]++;case'from':cov_1a102ia3eb.b[10][19]++;cov_1a102ia3eb.s[66]++;return'from';case'Location':cov_1a102ia3eb.b[10][20]++;case'location':cov_1a102ia3eb.b[10][21]++;cov_1a102ia3eb.s[67]++;return'location';case'Max-Forwards':cov_1a102ia3eb.b[10][22]++;case'max-forwards':cov_1a102ia3eb.b[10][23]++;cov_1a102ia3eb.s[68]++;return'max-forwards';case'Retry-After':cov_1a102ia3eb.b[10][24]++;case'retry-after':cov_1a102ia3eb.b[10][25]++;cov_1a102ia3eb.s[69]++;return'retry-after';case'ETag':cov_1a102ia3eb.b[10][26]++;case'etag':cov_1a102ia3eb.b[10][27]++;cov_1a102ia3eb.s[70]++;return'etag';case'Last-Modified':cov_1a102ia3eb.b[10][28]++;case'last-modified':cov_1a102ia3eb.b[10][29]++;cov_1a102ia3eb.s[71]++;return'last-modified';case'Server':cov_1a102ia3eb.b[10][30]++;case'server':cov_1a102ia3eb.b[10][31]++;cov_1a102ia3eb.s[72]++;return'server';case'Age':cov_1a102ia3eb.b[10][32]++;case'age':cov_1a102ia3eb.b[10][33]++;cov_1a102ia3eb.s[73]++;return'age';case'Expires':cov_1a102ia3eb.b[10][34]++;case'expires':cov_1a102ia3eb.b[10][35]++;cov_1a102ia3eb.s[74]++;return'expires';case'Set-Cookie':cov_1a102ia3eb.b[10][36]++;case'set-cookie':cov_1a102ia3eb.b[10][37]++;cov_1a102ia3eb.s[75]++;return'\u0001';case'Cookie':cov_1a102ia3eb.b[10][38]++;case'cookie':cov_1a102ia3eb.b[10][39]++;cov_1a102ia3eb.s[76]++;return'\u0002cookie';// The fields below are not used in _addHeaderLine(), but they are common
// headers where we can avoid toLowerCase() if the mixed or lower case
// versions match the first time through.
case'Transfer-Encoding':cov_1a102ia3eb.b[10][40]++;case'transfer-encoding':cov_1a102ia3eb.b[10][41]++;cov_1a102ia3eb.s[77]++;return'\u0000transfer-encoding';case'Date':cov_1a102ia3eb.b[10][42]++;case'date':cov_1a102ia3eb.b[10][43]++;cov_1a102ia3eb.s[78]++;return'\u0000date';case'Connection':cov_1a102ia3eb.b[10][44]++;case'connection':cov_1a102ia3eb.b[10][45]++;cov_1a102ia3eb.s[79]++;return'\u0000connection';case'Cache-Control':cov_1a102ia3eb.b[10][46]++;case'cache-control':cov_1a102ia3eb.b[10][47]++;cov_1a102ia3eb.s[80]++;return'\u0000cache-control';case'Vary':cov_1a102ia3eb.b[10][48]++;case'vary':cov_1a102ia3eb.b[10][49]++;cov_1a102ia3eb.s[81]++;return'\u0000vary';case'Content-Encoding':cov_1a102ia3eb.b[10][50]++;case'content-encoding':cov_1a102ia3eb.b[10][51]++;cov_1a102ia3eb.s[82]++;return'\u0000content-encoding';case'Origin':cov_1a102ia3eb.b[10][52]++;case'origin':cov_1a102ia3eb.b[10][53]++;cov_1a102ia3eb.s[83]++;return'\u0000origin';case'Upgrade':cov_1a102ia3eb.b[10][54]++;case'upgrade':cov_1a102ia3eb.b[10][55]++;cov_1a102ia3eb.s[84]++;return'\u0000upgrade';case'Expect':cov_1a102ia3eb.b[10][56]++;case'expect':cov_1a102ia3eb.b[10][57]++;cov_1a102ia3eb.s[85]++;return'\u0000expect';case'If-Match':cov_1a102ia3eb.b[10][58]++;case'if-match':cov_1a102ia3eb.b[10][59]++;cov_1a102ia3eb.s[86]++;return'\u0000if-match';case'If-None-Match':cov_1a102ia3eb.b[10][60]++;case'if-none-match':cov_1a102ia3eb.b[10][61]++;cov_1a102ia3eb.s[87]++;return'\u0000if-none-match';case'Accept':cov_1a102ia3eb.b[10][62]++;case'accept':cov_1a102ia3eb.b[10][63]++;cov_1a102ia3eb.s[88]++;return'\u0000accept';case'Accept-Encoding':cov_1a102ia3eb.b[10][64]++;case'accept-encoding':cov_1a102ia3eb.b[10][65]++;cov_1a102ia3eb.s[89]++;return'\u0000accept-encoding';case'Accept-Language':cov_1a102ia3eb.b[10][66]++;case'accept-language':cov_1a102ia3eb.b[10][67]++;cov_1a102ia3eb.s[90]++;return'\u0000accept-language';case'X-Forwarded-For':cov_1a102ia3eb.b[10][68]++;case'x-forwarded-for':cov_1a102ia3eb.b[10][69]++;cov_1a102ia3eb.s[91]++;return'\u0000x-forwarded-for';case'X-Forwarded-Host':cov_1a102ia3eb.b[10][70]++;case'x-forwarded-host':cov_1a102ia3eb.b[10][71]++;cov_1a102ia3eb.s[92]++;return'\u0000x-forwarded-host';case'X-Forwarded-Proto':cov_1a102ia3eb.b[10][72]++;case'x-forwarded-proto':cov_1a102ia3eb.b[10][73]++;cov_1a102ia3eb.s[93]++;return'\u0000x-forwarded-proto';default:cov_1a102ia3eb.b[10][74]++;cov_1a102ia3eb.s[94]++;if(low){cov_1a102ia3eb.b[11][0]++;cov_1a102ia3eb.s[95]++;return'\u0000'+field;}else{cov_1a102ia3eb.b[11][1]++;}cov_1a102ia3eb.s[96]++;field=field.toLowerCase();cov_1a102ia3eb.s[97]++;low=true;}}}// Add the given (field, value) pair to the message
//
// Per RFC2616, section 4.2 it is acceptable to join multiple instances of the
// same header with a ', ' if the header in question supports specification of
// multiple values this way. The one exception to this is the Cookie header,
// which has multiple values joined with a '; ' instead. If a header's values
// cannot be joined in either of these ways, we declare the first instance the
// winner and drop the second. Extended header fields (those beginning with
// 'x-') are always joined.
cov_1a102ia3eb.s[98]++;IncomingMessage.prototype._addHeaderLine=_addHeaderLine;function _addHeaderLine(field,value,dest){cov_1a102ia3eb.f[9]++;cov_1a102ia3eb.s[99]++;field=matchKnownFields(field);var flag=(cov_1a102ia3eb.s[100]++,field.charCodeAt(0));cov_1a102ia3eb.s[101]++;if((cov_1a102ia3eb.b[13][0]++,flag===0)||(cov_1a102ia3eb.b[13][1]++,flag===2)){cov_1a102ia3eb.b[12][0]++;cov_1a102ia3eb.s[102]++;field=field.slice(1);// Make a delimited list
cov_1a102ia3eb.s[103]++;if(typeof dest[field]==='string'){cov_1a102ia3eb.b[14][0]++;cov_1a102ia3eb.s[104]++;dest[field]+=(flag===0?(cov_1a102ia3eb.b[15][0]++,', '):(cov_1a102ia3eb.b[15][1]++,'; '))+value;}else{cov_1a102ia3eb.b[14][1]++;cov_1a102ia3eb.s[105]++;dest[field]=value;}}else{cov_1a102ia3eb.b[12][1]++;cov_1a102ia3eb.s[106]++;if(flag===1){cov_1a102ia3eb.b[16][0]++;cov_1a102ia3eb.s[107]++;// Array header -- only Set-Cookie at the moment
if(dest['set-cookie']!==undefined){cov_1a102ia3eb.b[17][0]++;cov_1a102ia3eb.s[108]++;dest['set-cookie'].push(value);}else{cov_1a102ia3eb.b[17][1]++;cov_1a102ia3eb.s[109]++;dest['set-cookie']=[value];}}else{cov_1a102ia3eb.b[16][1]++;cov_1a102ia3eb.s[110]++;// Drop duplicates
if(dest[field]===undefined){cov_1a102ia3eb.b[18][0]++;cov_1a102ia3eb.s[111]++;dest[field]=value;}else{cov_1a102ia3eb.b[18][1]++;}}}}// Call this instead of resume() if we want to just
// dump all the data to /dev/null
cov_1a102ia3eb.s[112]++;IncomingMessage.prototype._dump=function _dump(){cov_1a102ia3eb.f[10]++;cov_1a102ia3eb.s[113]++;if(!this._dumped){cov_1a102ia3eb.b[19][0]++;cov_1a102ia3eb.s[114]++;this._dumped=true;// If there is buffered data, it may trigger 'data' events.
// Remove 'data' event listeners explicitly.
cov_1a102ia3eb.s[115]++;this.removeAllListeners('data');cov_1a102ia3eb.s[116]++;this.resume();}else{cov_1a102ia3eb.b[19][1]++;}};cov_1a102ia3eb.s[117]++;module.exports={IncomingMessage,readStart,readStop};