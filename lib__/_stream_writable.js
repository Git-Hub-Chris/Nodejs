// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// A bit simpler than readable streams.
// Implement an async ._write(chunk, encoding, cb), and it'll handle all
// the drain event emission and buffering.
'use strict';var cov_uqcwy6pkl=function(){var path='_stream_writable.js',hash='4035e888cf1c0469f5bcd4c9ab83c35c0e809fe1',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'_stream_writable.js',statementMap:{'0':{start:{line:28,column:0},end:{line:28,column:26}},'1':{start:{line:29,column:0},end:{line:29,column:39}},'2':{start:{line:31,column:13},end:{line:31,column:28}},'3':{start:{line:32,column:21},end:{line:32,column:45}},'4':{start:{line:33,column:15},end:{line:33,column:32}},'5':{start:{line:34,column:15},end:{line:34,column:39}},'6':{start:{line:35,column:20},end:{line:35,column:55}},'7':{start:{line:36,column:15},end:{line:36,column:41}},'8':{start:{line:38,column:0},end:{line:38,column:32}},'9':{start:{line:43,column:2},end:{line:43,column:26}},'10':{start:{line:50,column:17},end:{line:50,column:48}},'11':{start:{line:54,column:2},end:{line:54,column:41}},'12':{start:{line:56,column:2},end:{line:57,column:70}},'13':{start:{line:57,column:4},end:{line:57,column:70}},'14':{start:{line:62,column:12},end:{line:62,column:33}},'15':{start:{line:63,column:20},end:{line:63,column:49}},'16':{start:{line:64,column:19},end:{line:64,column:51}},'17':{start:{line:66,column:2},end:{line:71,column:36}},'18':{start:{line:67,column:4},end:{line:67,column:29}},'19':{start:{line:68,column:7},end:{line:71,column:36}},'20':{start:{line:69,column:4},end:{line:69,column:37}},'21':{start:{line:71,column:4},end:{line:71,column:36}},'22':{start:{line:74,column:2},end:{line:74,column:54}},'23':{start:{line:77,column:2},end:{line:77,column:27}},'24':{start:{line:80,column:2},end:{line:80,column:25}},'25':{start:{line:82,column:2},end:{line:82,column:22}},'26':{start:{line:84,column:2},end:{line:84,column:21}},'27':{start:{line:86,column:2},end:{line:86,column:24}},'28':{start:{line:89,column:2},end:{line:89,column:25}},'29':{start:{line:94,column:17},end:{line:94,column:48}},'30':{start:{line:95,column:2},end:{line:95,column:33}},'31':{start:{line:100,column:2},end:{line:100,column:59}},'32':{start:{line:105,column:2},end:{line:105,column:18}},'33':{start:{line:108,column:2},end:{line:108,column:23}},'34':{start:{line:111,column:2},end:{line:111,column:18}},'35':{start:{line:117,column:2},end:{line:117,column:19}},'36':{start:{line:122,column:2},end:{line:122,column:32}},'37':{start:{line:125,column:2},end:{line:125,column:49}},'38':{start:{line:128,column:2},end:{line:128,column:22}},'39':{start:{line:131,column:2},end:{line:131,column:20}},'40':{start:{line:133,column:2},end:{line:133,column:30}},'41':{start:{line:134,column:2},end:{line:134,column:34}},'42':{start:{line:138,column:2},end:{line:138,column:21}},'43':{start:{line:142,column:2},end:{line:142,column:27}},'44':{start:{line:145,column:2},end:{line:145,column:28}},'45':{start:{line:148,column:2},end:{line:148,column:32}},'46':{start:{line:152,column:16},end:{line:152,column:62}},'47':{start:{line:153,column:2},end:{line:153,column:65}},'48':{start:{line:154,column:2},end:{line:154,column:36}},'49':{start:{line:157,column:0},end:{line:165,column:2}},'50':{start:{line:158,column:16},end:{line:158,column:36}},'51':{start:{line:159,column:12},end:{line:159,column:14}},'52':{start:{line:160,column:2},end:{line:163,column:3}},'53':{start:{line:161,column:4},end:{line:161,column:22}},'54':{start:{line:162,column:4},end:{line:162,column:27}},'55':{start:{line:164,column:2},end:{line:164,column:13}},'56':{start:{line:167,column:0},end:{line:172,column:3}},'57':{start:{line:169,column:4},end:{line:169,column:28}},'58':{start:{line:177,column:0},end:{line:193,column:1}},'59':{start:{line:178,column:2},end:{line:178,column:59}},'60':{start:{line:179,column:2},end:{line:188,column:5}},'61':{start:{line:181,column:6},end:{line:182,column:20}},'62':{start:{line:182,column:8},end:{line:182,column:20}},'63':{start:{line:183,column:6},end:{line:184,column:21}},'64':{start:{line:184,column:8},end:{line:184,column:21}},'65':{start:{line:186,column:6},end:{line:186,column:70}},'66':{start:{line:190,column:2},end:{line:192,column:4}},'67':{start:{line:191,column:4},end:{line:191,column:34}},'68':{start:{line:203,column:2},end:{line:206,column:3}},'69':{start:{line:205,column:4},end:{line:205,column:33}},'70':{start:{line:208,column:2},end:{line:208,column:57}},'71':{start:{line:211,column:2},end:{line:211,column:23}},'72':{start:{line:213,column:2},end:{line:225,column:3}},'73':{start:{line:214,column:4},end:{line:215,column:34}},'74':{start:{line:215,column:6},end:{line:215,column:34}},'75':{start:{line:217,column:4},end:{line:218,column:36}},'76':{start:{line:218,column:6},end:{line:218,column:36}},'77':{start:{line:220,column:4},end:{line:221,column:38}},'78':{start:{line:221,column:6},end:{line:221,column:38}},'79':{start:{line:223,column:4},end:{line:224,column:34}},'80':{start:{line:224,column:6},end:{line:224,column:34}},'81':{start:{line:227,column:2},end:{line:227,column:20}},'82':{start:{line:231,column:0},end:{line:233,column:2}},'83':{start:{line:232,column:2},end:{line:232,column:61}},'84':{start:{line:237,column:11},end:{line:237,column:39}},'85':{start:{line:239,column:2},end:{line:239,column:27}},'86':{start:{line:240,column:2},end:{line:240,column:27}},'87':{start:{line:247,column:14},end:{line:247,column:18}},'88':{start:{line:248,column:11},end:{line:248,column:16}},'89':{start:{line:250,column:2},end:{line:256,column:3}},'90':{start:{line:251,column:4},end:{line:251,column:62}},'91':{start:{line:252,column:9},end:{line:256,column:3}},'92':{start:{line:255,column:4},end:{line:255,column:58}},'93':{start:{line:257,column:2},end:{line:261,column:3}},'94':{start:{line:258,column:4},end:{line:258,column:29}},'95':{start:{line:259,column:4},end:{line:259,column:29}},'96':{start:{line:260,column:4},end:{line:260,column:18}},'97':{start:{line:262,column:2},end:{line:262,column:15}},'98':{start:{line:265,column:0},end:{line:295,column:2}},'99':{start:{line:266,column:14},end:{line:266,column:33}},'100':{start:{line:267,column:12},end:{line:267,column:17}},'101':{start:{line:268,column:14},end:{line:268,column:62}},'102':{start:{line:270,column:2},end:{line:272,column:3}},'103':{start:{line:271,column:4},end:{line:271,column:46}},'104':{start:{line:274,column:2},end:{line:277,column:3}},'105':{start:{line:275,column:4},end:{line:275,column:18}},'106':{start:{line:276,column:4},end:{line:276,column:20}},'107':{start:{line:279,column:2},end:{line:282,column:37}},'108':{start:{line:280,column:4},end:{line:280,column:24}},'109':{start:{line:281,column:7},end:{line:282,column:37}},'110':{start:{line:282,column:4},end:{line:282,column:37}},'111':{start:{line:284,column:2},end:{line:285,column:13}},'112':{start:{line:285,column:4},end:{line:285,column:13}},'113':{start:{line:287,column:2},end:{line:292,column:3}},'114':{start:{line:288,column:4},end:{line:288,column:28}},'115':{start:{line:289,column:7},end:{line:292,column:3}},'116':{start:{line:290,column:4},end:{line:290,column:22}},'117':{start:{line:291,column:4},end:{line:291,column:65}},'118':{start:{line:294,column:2},end:{line:294,column:13}},'119':{start:{line:297,column:0},end:{line:301,column:2}},'120':{start:{line:298,column:14},end:{line:298,column:33}},'121':{start:{line:300,column:2},end:{line:300,column:17}},'122':{start:{line:303,column:0},end:{line:316,column:2}},'123':{start:{line:304,column:14},end:{line:304,column:33}},'124':{start:{line:306,column:2},end:{line:315,column:3}},'125':{start:{line:307,column:4},end:{line:307,column:19}},'126':{start:{line:309,column:4},end:{line:314,column:31}},'127':{start:{line:314,column:6},end:{line:314,column:31}},'128':{start:{line:318,column:0},end:{line:326,column:2}},'129':{start:{line:320,column:2},end:{line:321,column:38}},'130':{start:{line:321,column:4},end:{line:321,column:38}},'131':{start:{line:322,column:2},end:{line:323,column:65}},'132':{start:{line:323,column:4},end:{line:323,column:65}},'133':{start:{line:324,column:2},end:{line:324,column:49}},'134':{start:{line:325,column:2},end:{line:325,column:14}},'135':{start:{line:329,column:2},end:{line:333,column:3}},'136':{start:{line:332,column:4},end:{line:332,column:41}},'137':{start:{line:334,column:2},end:{line:334,column:15}},'138':{start:{line:341,column:2},end:{line:348,column:3}},'139':{start:{line:342,column:19},end:{line:342,column:54}},'140':{start:{line:343,column:4},end:{line:347,column:5}},'141':{start:{line:344,column:6},end:{line:344,column:19}},'142':{start:{line:345,column:6},end:{line:345,column:26}},'143':{start:{line:346,column:6},end:{line:346,column:23}},'144':{start:{line:349,column:12},end:{line:349,column:47}},'145':{start:{line:351,column:2},end:{line:351,column:22}},'146':{start:{line:353,column:12},end:{line:353,column:46}},'147':{start:{line:355,column:2},end:{line:356,column:27}},'148':{start:{line:356,column:4},end:{line:356,column:27}},'149':{start:{line:358,column:2},end:{line:375,column:3}},'150':{start:{line:359,column:15},end:{line:359,column:40}},'151':{start:{line:360,column:4},end:{line:366,column:6}},'152':{start:{line:367,column:4},end:{line:371,column:5}},'153':{start:{line:368,column:6},end:{line:368,column:44}},'154':{start:{line:370,column:6},end:{line:370,column:56}},'155':{start:{line:372,column:4},end:{line:372,column:36}},'156':{start:{line:374,column:4},end:{line:374,column:60}},'157':{start:{line:377,column:2},end:{line:377,column:13}},'158':{start:{line:381,column:2},end:{line:381,column:23}},'159':{start:{line:382,column:2},end:{line:382,column:21}},'160':{start:{line:383,column:2},end:{line:383,column:23}},'161':{start:{line:384,column:2},end:{line:384,column:20}},'162':{start:{line:385,column:2},end:{line:388,column:50}},'163':{start:{line:386,column:4},end:{line:386,column:41}},'164':{start:{line:388,column:4},end:{line:388,column:50}},'165':{start:{line:389,column:2},end:{line:389,column:21}},'166':{start:{line:393,column:2},end:{line:393,column:20}},'167':{start:{line:395,column:2},end:{line:413,column:3}},'168':{start:{line:398,column:4},end:{line:398,column:29}},'169':{start:{line:401,column:4},end:{line:401,column:49}},'170':{start:{line:402,column:4},end:{line:402,column:46}},'171':{start:{line:403,column:4},end:{line:403,column:29}},'172':{start:{line:407,column:4},end:{line:407,column:11}},'173':{start:{line:408,column:4},end:{line:408,column:46}},'174':{start:{line:409,column:4},end:{line:409,column:29}},'175':{start:{line:412,column:4},end:{line:412,column:31}},'176':{start:{line:417,column:2},end:{line:417,column:24}},'177':{start:{line:418,column:2},end:{line:418,column:23}},'178':{start:{line:419,column:2},end:{line:419,column:33}},'179':{start:{line:420,column:2},end:{line:420,column:21}},'180':{start:{line:424,column:14},end:{line:424,column:35}},'181':{start:{line:425,column:13},end:{line:425,column:23}},'182':{start:{line:426,column:11},end:{line:426,column:24}},'183':{start:{line:428,column:2},end:{line:428,column:28}},'184':{start:{line:430,column:2},end:{line:448,column:3}},'185':{start:{line:431,column:4},end:{line:431,column:46}},'186':{start:{line:434,column:19},end:{line:434,column:36}},'187':{start:{line:436,column:4},end:{line:441,column:5}},'188':{start:{line:440,column:6},end:{line:440,column:33}},'189':{start:{line:443,column:4},end:{line:447,column:5}},'190':{start:{line:444,column:6},end:{line:444,column:64}},'191':{start:{line:446,column:6},end:{line:446,column:46}},'192':{start:{line:452,column:2},end:{line:453,column:32}},'193':{start:{line:453,column:4},end:{line:453,column:32}},'194':{start:{line:454,column:2},end:{line:454,column:20}},'195':{start:{line:455,column:2},end:{line:455,column:7}},'196':{start:{line:456,column:2},end:{line:456,column:29}},'197':{start:{line:463,column:2},end:{line:466,column:3}},'198':{start:{line:464,column:4},end:{line:464,column:28}},'199':{start:{line:465,column:4},end:{line:465,column:25}},'200':{start:{line:471,column:2},end:{line:471,column:32}},'201':{start:{line:472,column:14},end:{line:472,column:35}},'202':{start:{line:474,column:2},end:{line:529,column:3}},'203':{start:{line:476,column:12},end:{line:476,column:38}},'204':{start:{line:477,column:17},end:{line:477,column:29}},'205':{start:{line:478,column:17},end:{line:478,column:41}},'206':{start:{line:479,column:4},end:{line:479,column:25}},'207':{start:{line:481,column:16},end:{line:481,column:17}},'208':{start:{line:482,column:21},end:{line:482,column:25}},'209':{start:{line:483,column:4},end:{line:489,column:5}},'210':{start:{line:484,column:6},end:{line:484,column:28}},'211':{start:{line:485,column:6},end:{line:486,column:27}},'212':{start:{line:486,column:8},end:{line:486,column:27}},'213':{start:{line:487,column:6},end:{line:487,column:25}},'214':{start:{line:488,column:6},end:{line:488,column:17}},'215':{start:{line:490,column:4},end:{line:490,column:35}},'216':{start:{line:492,column:4},end:{line:492,column:74}},'217':{start:{line:496,column:4},end:{line:496,column:22}},'218':{start:{line:497,column:4},end:{line:497,column:37}},'219':{start:{line:498,column:4},end:{line:505,column:5}},'220':{start:{line:499,column:6},end:{line:499,column:45}},'221':{start:{line:500,column:6},end:{line:500,column:25}},'222':{start:{line:502,column:20},end:{line:502,column:66}},'223':{start:{line:503,column:6},end:{line:503,column:70}},'224':{start:{line:504,column:6},end:{line:504,column:41}},'225':{start:{line:506,column:4},end:{line:506,column:35}},'226':{start:{line:509,column:4},end:{line:525,column:5}},'227':{start:{line:510,column:18},end:{line:510,column:29}},'228':{start:{line:511,column:21},end:{line:511,column:35}},'229':{start:{line:512,column:15},end:{line:512,column:29}},'230':{start:{line:513,column:16},end:{line:513,column:51}},'231':{start:{line:515,column:6},end:{line:515,column:62}},'232':{start:{line:516,column:6},end:{line:516,column:25}},'233':{start:{line:517,column:6},end:{line:517,column:35}},'234':{start:{line:522,column:6},end:{line:524,column:7}},'235':{start:{line:523,column:8},end:{line:523,column:14}},'236':{start:{line:527,column:4},end:{line:528,column:39}},'237':{start:{line:528,column:6},end:{line:528,column:39}},'238':{start:{line:531,column:2},end:{line:531,column:32}},'239':{start:{line:532,column:2},end:{line:532,column:33}},'240':{start:{line:535,column:0},end:{line:537,column:2}},'241':{start:{line:536,column:2},end:{line:536,column:47}},'242':{start:{line:539,column:0},end:{line:539,column:34}},'243':{start:{line:541,column:0},end:{line:565,column:2}},'244':{start:{line:542,column:14},end:{line:542,column:33}},'245':{start:{line:544,column:2},end:{line:551,column:3}},'246':{start:{line:545,column:4},end:{line:545,column:15}},'247':{start:{line:546,column:4},end:{line:546,column:17}},'248':{start:{line:547,column:4},end:{line:547,column:20}},'249':{start:{line:548,column:9},end:{line:551,column:3}},'250':{start:{line:549,column:4},end:{line:549,column:18}},'251':{start:{line:550,column:4},end:{line:550,column:20}},'252':{start:{line:553,column:2},end:{line:554,column:32}},'253':{start:{line:554,column:4},end:{line:554,column:32}},'254':{start:{line:557,column:2},end:{line:560,column:3}},'255':{start:{line:558,column:4},end:{line:558,column:21}},'256':{start:{line:559,column:4},end:{line:559,column:18}},'257':{start:{line:563,column:2},end:{line:564,column:33}},'258':{start:{line:564,column:4},end:{line:564,column:33}},'259':{start:{line:569,column:2},end:{line:573,column:26}},'260':{start:{line:576,column:2},end:{line:584,column:5}},'261':{start:{line:577,column:4},end:{line:577,column:22}},'262':{start:{line:578,column:4},end:{line:580,column:5}},'263':{start:{line:579,column:6},end:{line:579,column:32}},'264':{start:{line:581,column:4},end:{line:581,column:29}},'265':{start:{line:582,column:4},end:{line:582,column:29}},'266':{start:{line:583,column:4},end:{line:583,column:31}},'267':{start:{line:587,column:2},end:{line:596,column:3}},'268':{start:{line:588,column:4},end:{line:595,column:5}},'269':{start:{line:589,column:6},end:{line:589,column:24}},'270':{start:{line:590,column:6},end:{line:590,column:31}},'271':{start:{line:591,column:6},end:{line:591,column:49}},'272':{start:{line:593,column:6},end:{line:593,column:31}},'273':{start:{line:594,column:6},end:{line:594,column:31}},'274':{start:{line:600,column:13},end:{line:600,column:30}},'275':{start:{line:601,column:2},end:{line:607,column:3}},'276':{start:{line:602,column:4},end:{line:602,column:29}},'277':{start:{line:603,column:4},end:{line:606,column:5}},'278':{start:{line:604,column:6},end:{line:604,column:28}},'279':{start:{line:605,column:6},end:{line:605,column:28}},'280':{start:{line:608,column:2},end:{line:608,column:14}},'281':{start:{line:612,column:2},end:{line:612,column:22}},'282':{start:{line:613,column:2},end:{line:613,column:29}},'283':{start:{line:614,column:2},end:{line:619,column:3}},'284':{start:{line:615,column:4},end:{line:618,column:32}},'285':{start:{line:616,column:6},end:{line:616,column:27}},'286':{start:{line:618,column:6},end:{line:618,column:32}},'287':{start:{line:620,column:2},end:{line:620,column:21}},'288':{start:{line:621,column:2},end:{line:621,column:26}},'289':{start:{line:625,column:14},end:{line:625,column:27}},'290':{start:{line:626,column:2},end:{line:626,column:23}},'291':{start:{line:627,column:2},end:{line:632,column:3}},'292':{start:{line:628,column:13},end:{line:628,column:27}},'293':{start:{line:629,column:4},end:{line:629,column:22}},'294':{start:{line:630,column:4},end:{line:630,column:12}},'295':{start:{line:631,column:4},end:{line:631,column:23}},'296':{start:{line:633,column:2},end:{line:637,column:3}},'297':{start:{line:634,column:4},end:{line:634,column:44}},'298':{start:{line:636,column:4},end:{line:636,column:39}},'299':{start:{line:640,column:0},end:{line:658,column:3}},'300':{start:{line:642,column:4},end:{line:644,column:5}},'301':{start:{line:643,column:6},end:{line:643,column:19}},'302':{start:{line:645,column:4},end:{line:645,column:41}},'303':{start:{line:650,column:4},end:{line:652,column:5}},'304':{start:{line:651,column:6},end:{line:651,column:13}},'305':{start:{line:656,column:4},end:{line:656,column:42}},'306':{start:{line:660,column:0},end:{line:660,column:49}},'307':{start:{line:661,column:0},end:{line:661,column:54}},'308':{start:{line:662,column:0},end:{line:665,column:2}},'309':{start:{line:663,column:2},end:{line:663,column:13}},'310':{start:{line:664,column:2},end:{line:664,column:10}}},fnMap:{'0':{name:'nop',decl:{start:{line:40,column:9},end:{line:40,column:12}},loc:{start:{line:40,column:15},end:{line:40,column:17}},line:40},'1':{name:'WritableState',decl:{start:{line:42,column:9},end:{line:42,column:22}},loc:{start:{line:42,column:40},end:{line:155,column:1}},line:42},'2':{name:'getBuffer',decl:{start:{line:157,column:45},end:{line:157,column:54}},loc:{start:{line:157,column:57},end:{line:165,column:1}},line:157},'3':{name:'(anonymous_3)',decl:{start:{line:168,column:30},end:{line:168,column:31}},loc:{start:{line:168,column:41},end:{line:170,column:3}},line:168},'4':{name:'(anonymous_4)',decl:{start:{line:180,column:11},end:{line:180,column:12}},loc:{start:{line:180,column:28},end:{line:187,column:5}},line:180},'5':{name:'(anonymous_5)',decl:{start:{line:190,column:20},end:{line:190,column:21}},loc:{start:{line:190,column:37},end:{line:192,column:3}},line:190},'6':{name:'Writable',decl:{start:{line:195,column:9},end:{line:195,column:17}},loc:{start:{line:195,column:27},end:{line:228,column:1}},line:195},'7':{name:'(anonymous_7)',decl:{start:{line:231,column:26},end:{line:231,column:27}},loc:{start:{line:231,column:37},end:{line:233,column:1}},line:231},'8':{name:'writeAfterEnd',decl:{start:{line:236,column:9},end:{line:236,column:22}},loc:{start:{line:236,column:35},end:{line:241,column:1}},line:236},'9':{name:'validChunk',decl:{start:{line:246,column:9},end:{line:246,column:19}},loc:{start:{line:246,column:46},end:{line:263,column:1}},line:246},'10':{name:'(anonymous_10)',decl:{start:{line:265,column:27},end:{line:265,column:28}},loc:{start:{line:265,column:57},end:{line:295,column:1}},line:265},'11':{name:'(anonymous_11)',decl:{start:{line:297,column:26},end:{line:297,column:27}},loc:{start:{line:297,column:37},end:{line:301,column:1}},line:297},'12':{name:'(anonymous_12)',decl:{start:{line:303,column:28},end:{line:303,column:29}},loc:{start:{line:303,column:39},end:{line:316,column:1}},line:303},'13':{name:'setDefaultEncoding',decl:{start:{line:318,column:49},end:{line:318,column:67}},loc:{start:{line:318,column:78},end:{line:326,column:1}},line:318},'14':{name:'decodeChunk',decl:{start:{line:328,column:9},end:{line:328,column:20}},loc:{start:{line:328,column:45},end:{line:335,column:1}},line:328},'15':{name:'writeOrBuffer',decl:{start:{line:340,column:9},end:{line:340,column:22}},loc:{start:{line:340,column:66},end:{line:378,column:1}},line:340},'16':{name:'doWrite',decl:{start:{line:380,column:9},end:{line:380,column:16}},loc:{start:{line:380,column:66},end:{line:390,column:1}},line:380},'17':{name:'onwriteError',decl:{start:{line:392,column:9},end:{line:392,column:21}},loc:{start:{line:392,column:51},end:{line:414,column:1}},line:392},'18':{name:'onwriteStateUpdate',decl:{start:{line:416,column:9},end:{line:416,column:27}},loc:{start:{line:416,column:35},end:{line:421,column:1}},line:416},'19':{name:'onwrite',decl:{start:{line:423,column:9},end:{line:423,column:16}},loc:{start:{line:423,column:29},end:{line:449,column:1}},line:423},'20':{name:'afterWrite',decl:{start:{line:451,column:9},end:{line:451,column:19}},loc:{start:{line:451,column:49},end:{line:457,column:1}},line:451},'21':{name:'onwriteDrain',decl:{start:{line:462,column:9},end:{line:462,column:21}},loc:{start:{line:462,column:37},end:{line:467,column:1}},line:462},'22':{name:'clearBuffer',decl:{start:{line:470,column:9},end:{line:470,column:20}},loc:{start:{line:470,column:36},end:{line:533,column:1}},line:470},'23':{name:'(anonymous_23)',decl:{start:{line:535,column:28},end:{line:535,column:29}},loc:{start:{line:535,column:58},end:{line:537,column:1}},line:535},'24':{name:'(anonymous_24)',decl:{start:{line:541,column:25},end:{line:541,column:26}},loc:{start:{line:541,column:55},end:{line:565,column:1}},line:541},'25':{name:'needFinish',decl:{start:{line:568,column:9},end:{line:568,column:19}},loc:{start:{line:568,column:27},end:{line:574,column:1}},line:568},'26':{name:'callFinal',decl:{start:{line:575,column:9},end:{line:575,column:18}},loc:{start:{line:575,column:34},end:{line:585,column:1}},line:575},'27':{name:'(anonymous_27)',decl:{start:{line:576,column:16},end:{line:576,column:17}},loc:{start:{line:576,column:25},end:{line:584,column:3}},line:576},'28':{name:'prefinish',decl:{start:{line:586,column:9},end:{line:586,column:18}},loc:{start:{line:586,column:34},end:{line:597,column:1}},line:586},'29':{name:'finishMaybe',decl:{start:{line:599,column:9},end:{line:599,column:20}},loc:{start:{line:599,column:36},end:{line:609,column:1}},line:599},'30':{name:'endWritable',decl:{start:{line:611,column:9},end:{line:611,column:20}},loc:{start:{line:611,column:40},end:{line:622,column:1}},line:611},'31':{name:'onCorkedFinish',decl:{start:{line:624,column:9},end:{line:624,column:23}},loc:{start:{line:624,column:45},end:{line:638,column:1}},line:624},'32':{name:'(anonymous_32)',decl:{start:{line:662,column:30},end:{line:662,column:31}},loc:{start:{line:662,column:48},end:{line:665,column:1}},line:662}},branchMap:{'0':{loc:{start:{line:43,column:12},end:{line:43,column:25}},type:'binary-expr',locations:[{start:{line:43,column:12},end:{line:43,column:19}},{start:{line:43,column:23},end:{line:43,column:25}}],line:43},'1':{loc:{start:{line:56,column:2},end:{line:57,column:70}},type:'if',locations:[{start:{line:56,column:2},end:{line:57,column:70}},{start:{line:56,column:2},end:{line:57,column:70}}],line:56},'2':{loc:{start:{line:57,column:22},end:{line:57,column:69}},type:'binary-expr',locations:[{start:{line:57,column:22},end:{line:57,column:37}},{start:{line:57,column:41},end:{line:57,column:69}}],line:57},'3':{loc:{start:{line:64,column:19},end:{line:64,column:51}},type:'cond-expr',locations:[{start:{line:64,column:37},end:{line:64,column:39}},{start:{line:64,column:42},end:{line:64,column:51}}],line:64},'4':{loc:{start:{line:66,column:2},end:{line:71,column:36}},type:'if',locations:[{start:{line:66,column:2},end:{line:71,column:36}},{start:{line:66,column:2},end:{line:71,column:36}}],line:66},'5':{loc:{start:{line:66,column:6},end:{line:66,column:22}},type:'binary-expr',locations:[{start:{line:66,column:6},end:{line:66,column:9}},{start:{line:66,column:13},end:{line:66,column:22}}],line:66},'6':{loc:{start:{line:68,column:7},end:{line:71,column:36}},type:'if',locations:[{start:{line:68,column:7},end:{line:71,column:36}},{start:{line:68,column:7},end:{line:71,column:36}}],line:68},'7':{loc:{start:{line:68,column:11},end:{line:68,column:57}},type:'binary-expr',locations:[{start:{line:68,column:11},end:{line:68,column:19}},{start:{line:68,column:24},end:{line:68,column:35}},{start:{line:68,column:39},end:{line:68,column:56}}],line:68},'8':{loc:{start:{line:100,column:25},end:{line:100,column:58}},type:'binary-expr',locations:[{start:{line:100,column:25},end:{line:100,column:48}},{start:{line:100,column:52},end:{line:100,column:58}}],line:100},'9':{loc:{start:{line:177,column:0},end:{line:193,column:1}},type:'if',locations:[{start:{line:177,column:0},end:{line:193,column:1}},{start:{line:177,column:0},end:{line:193,column:1}}],line:177},'10':{loc:{start:{line:177,column:4},end:{line:177,column:54}},type:'binary-expr',locations:[{start:{line:177,column:4},end:{line:177,column:32}},{start:{line:177,column:36},end:{line:177,column:54}}],line:177},'11':{loc:{start:{line:181,column:6},end:{line:182,column:20}},type:'if',locations:[{start:{line:181,column:6},end:{line:182,column:20}},{start:{line:181,column:6},end:{line:182,column:20}}],line:181},'12':{loc:{start:{line:183,column:6},end:{line:184,column:21}},type:'if',locations:[{start:{line:183,column:6},end:{line:184,column:21}},{start:{line:183,column:6},end:{line:184,column:21}}],line:183},'13':{loc:{start:{line:186,column:13},end:{line:186,column:69}},type:'binary-expr',locations:[{start:{line:186,column:13},end:{line:186,column:19}},{start:{line:186,column:23},end:{line:186,column:69}}],line:186},'14':{loc:{start:{line:203,column:2},end:{line:206,column:3}},type:'if',locations:[{start:{line:203,column:2},end:{line:206,column:3}},{start:{line:203,column:2},end:{line:206,column:3}}],line:203},'15':{loc:{start:{line:203,column:6},end:{line:204,column:38}},type:'binary-expr',locations:[{start:{line:203,column:6},end:{line:203,column:45}},{start:{line:204,column:6},end:{line:204,column:38}}],line:203},'16':{loc:{start:{line:213,column:2},end:{line:225,column:3}},type:'if',locations:[{start:{line:213,column:2},end:{line:225,column:3}},{start:{line:213,column:2},end:{line:225,column:3}}],line:213},'17':{loc:{start:{line:214,column:4},end:{line:215,column:34}},type:'if',locations:[{start:{line:214,column:4},end:{line:215,column:34}},{start:{line:214,column:4},end:{line:215,column:34}}],line:214},'18':{loc:{start:{line:217,column:4},end:{line:218,column:36}},type:'if',locations:[{start:{line:217,column:4},end:{line:218,column:36}},{start:{line:217,column:4},end:{line:218,column:36}}],line:217},'19':{loc:{start:{line:220,column:4},end:{line:221,column:38}},type:'if',locations:[{start:{line:220,column:4},end:{line:221,column:38}},{start:{line:220,column:4},end:{line:221,column:38}}],line:220},'20':{loc:{start:{line:223,column:4},end:{line:224,column:34}},type:'if',locations:[{start:{line:223,column:4},end:{line:224,column:34}},{start:{line:223,column:4},end:{line:224,column:34}}],line:223},'21':{loc:{start:{line:250,column:2},end:{line:256,column:3}},type:'if',locations:[{start:{line:250,column:2},end:{line:256,column:3}},{start:{line:250,column:2},end:{line:256,column:3}}],line:250},'22':{loc:{start:{line:252,column:9},end:{line:256,column:3}},type:'if',locations:[{start:{line:252,column:9},end:{line:256,column:3}},{start:{line:252,column:9},end:{line:256,column:3}}],line:252},'23':{loc:{start:{line:252,column:13},end:{line:254,column:30}},type:'binary-expr',locations:[{start:{line:252,column:13},end:{line:252,column:38}},{start:{line:253,column:13},end:{line:253,column:32}},{start:{line:254,column:13},end:{line:254,column:30}}],line:252},'24':{loc:{start:{line:257,column:2},end:{line:261,column:3}},type:'if',locations:[{start:{line:257,column:2},end:{line:261,column:3}},{start:{line:257,column:2},end:{line:261,column:3}}],line:257},'25':{loc:{start:{line:268,column:14},end:{line:268,column:62}},type:'binary-expr',locations:[{start:{line:268,column:14},end:{line:268,column:31}},{start:{line:268,column:35},end:{line:268,column:62}}],line:268},'26':{loc:{start:{line:270,column:2},end:{line:272,column:3}},type:'if',locations:[{start:{line:270,column:2},end:{line:272,column:3}},{start:{line:270,column:2},end:{line:272,column:3}}],line:270},'27':{loc:{start:{line:270,column:6},end:{line:270,column:64}},type:'binary-expr',locations:[{start:{line:270,column:6},end:{line:270,column:11}},{start:{line:270,column:15},end:{line:270,column:64}}],line:270},'28':{loc:{start:{line:274,column:2},end:{line:277,column:3}},type:'if',locations:[{start:{line:274,column:2},end:{line:277,column:3}},{start:{line:274,column:2},end:{line:277,column:3}}],line:274},'29':{loc:{start:{line:279,column:2},end:{line:282,column:37}},type:'if',locations:[{start:{line:279,column:2},end:{line:282,column:37}},{start:{line:279,column:2},end:{line:282,column:37}}],line:279},'30':{loc:{start:{line:281,column:7},end:{line:282,column:37}},type:'if',locations:[{start:{line:281,column:7},end:{line:282,column:37}},{start:{line:281,column:7},end:{line:282,column:37}}],line:281},'31':{loc:{start:{line:284,column:2},end:{line:285,column:13}},type:'if',locations:[{start:{line:284,column:2},end:{line:285,column:13}},{start:{line:284,column:2},end:{line:285,column:13}}],line:284},'32':{loc:{start:{line:287,column:2},end:{line:292,column:3}},type:'if',locations:[{start:{line:287,column:2},end:{line:292,column:3}},{start:{line:287,column:2},end:{line:292,column:3}}],line:287},'33':{loc:{start:{line:289,column:7},end:{line:292,column:3}},type:'if',locations:[{start:{line:289,column:7},end:{line:292,column:3}},{start:{line:289,column:7},end:{line:292,column:3}}],line:289},'34':{loc:{start:{line:289,column:11},end:{line:289,column:54}},type:'binary-expr',locations:[{start:{line:289,column:11},end:{line:289,column:16}},{start:{line:289,column:20},end:{line:289,column:54}}],line:289},'35':{loc:{start:{line:306,column:2},end:{line:315,column:3}},type:'if',locations:[{start:{line:306,column:2},end:{line:315,column:3}},{start:{line:306,column:2},end:{line:315,column:3}}],line:306},'36':{loc:{start:{line:309,column:4},end:{line:314,column:31}},type:'if',locations:[{start:{line:309,column:4},end:{line:314,column:31}},{start:{line:309,column:4},end:{line:314,column:31}}],line:309},'37':{loc:{start:{line:309,column:8},end:{line:313,column:29}},type:'binary-expr',locations:[{start:{line:309,column:8},end:{line:309,column:22}},{start:{line:310,column:8},end:{line:310,column:21}},{start:{line:311,column:8},end:{line:311,column:23}},{start:{line:312,column:8},end:{line:312,column:31}},{start:{line:313,column:8},end:{line:313,column:29}}],line:309},'38':{loc:{start:{line:320,column:2},end:{line:321,column:38}},type:'if',locations:[{start:{line:320,column:2},end:{line:321,column:38}},{start:{line:320,column:2},end:{line:321,column:38}}],line:320},'39':{loc:{start:{line:322,column:2},end:{line:323,column:65}},type:'if',locations:[{start:{line:322,column:2},end:{line:323,column:65}},{start:{line:322,column:2},end:{line:323,column:65}}],line:322},'40':{loc:{start:{line:329,column:2},end:{line:333,column:3}},type:'if',locations:[{start:{line:329,column:2},end:{line:333,column:3}},{start:{line:329,column:2},end:{line:333,column:3}}],line:329},'41':{loc:{start:{line:329,column:6},end:{line:331,column:31}},type:'binary-expr',locations:[{start:{line:329,column:6},end:{line:329,column:23}},{start:{line:330,column:6},end:{line:330,column:35}},{start:{line:331,column:6},end:{line:331,column:31}}],line:329},'42':{loc:{start:{line:341,column:2},end:{line:348,column:3}},type:'if',locations:[{start:{line:341,column:2},end:{line:348,column:3}},{start:{line:341,column:2},end:{line:348,column:3}}],line:341},'43':{loc:{start:{line:343,column:4},end:{line:347,column:5}},type:'if',locations:[{start:{line:343,column:4},end:{line:347,column:5}},{start:{line:343,column:4},end:{line:347,column:5}}],line:343},'44':{loc:{start:{line:349,column:12},end:{line:349,column:47}},type:'cond-expr',locations:[{start:{line:349,column:31},end:{line:349,column:32}},{start:{line:349,column:35},end:{line:349,column:47}}],line:349},'45':{loc:{start:{line:355,column:2},end:{line:356,column:27}},type:'if',locations:[{start:{line:355,column:2},end:{line:356,column:27}},{start:{line:355,column:2},end:{line:356,column:27}}],line:355},'46':{loc:{start:{line:358,column:2},end:{line:375,column:3}},type:'if',locations:[{start:{line:358,column:2},end:{line:375,column:3}},{start:{line:358,column:2},end:{line:375,column:3}}],line:358},'47':{loc:{start:{line:358,column:6},end:{line:358,column:35}},type:'binary-expr',locations:[{start:{line:358,column:6},end:{line:358,column:19}},{start:{line:358,column:23},end:{line:358,column:35}}],line:358},'48':{loc:{start:{line:367,column:4},end:{line:371,column:5}},type:'if',locations:[{start:{line:367,column:4},end:{line:371,column:5}},{start:{line:367,column:4},end:{line:371,column:5}}],line:367},'49':{loc:{start:{line:385,column:2},end:{line:388,column:50}},type:'if',locations:[{start:{line:385,column:2},end:{line:388,column:50}},{start:{line:385,column:2},end:{line:388,column:50}}],line:385},'50':{loc:{start:{line:395,column:2},end:{line:413,column:3}},type:'if',locations:[{start:{line:395,column:2},end:{line:413,column:3}},{start:{line:395,column:2},end:{line:413,column:3}}],line:395},'51':{loc:{start:{line:430,column:2},end:{line:448,column:3}},type:'if',locations:[{start:{line:430,column:2},end:{line:448,column:3}},{start:{line:430,column:2},end:{line:448,column:3}}],line:430},'52':{loc:{start:{line:436,column:4},end:{line:441,column:5}},type:'if',locations:[{start:{line:436,column:4},end:{line:441,column:5}},{start:{line:436,column:4},end:{line:441,column:5}}],line:436},'53':{loc:{start:{line:436,column:8},end:{line:439,column:29}},type:'binary-expr',locations:[{start:{line:436,column:8},end:{line:436,column:17}},{start:{line:437,column:8},end:{line:437,column:21}},{start:{line:438,column:8},end:{line:438,column:31}},{start:{line:439,column:8},end:{line:439,column:29}}],line:436},'54':{loc:{start:{line:443,column:4},end:{line:447,column:5}},type:'if',locations:[{start:{line:443,column:4},end:{line:447,column:5}},{start:{line:443,column:4},end:{line:447,column:5}}],line:443},'55':{loc:{start:{line:452,column:2},end:{line:453,column:32}},type:'if',locations:[{start:{line:452,column:2},end:{line:453,column:32}},{start:{line:452,column:2},end:{line:453,column:32}}],line:452},'56':{loc:{start:{line:463,column:2},end:{line:466,column:3}},type:'if',locations:[{start:{line:463,column:2},end:{line:466,column:3}},{start:{line:463,column:2},end:{line:466,column:3}}],line:463},'57':{loc:{start:{line:463,column:6},end:{line:463,column:43}},type:'binary-expr',locations:[{start:{line:463,column:6},end:{line:463,column:24}},{start:{line:463,column:28},end:{line:463,column:43}}],line:463},'58':{loc:{start:{line:474,column:2},end:{line:529,column:3}},type:'if',locations:[{start:{line:474,column:2},end:{line:529,column:3}},{start:{line:474,column:2},end:{line:529,column:3}}],line:474},'59':{loc:{start:{line:474,column:6},end:{line:474,column:43}},type:'binary-expr',locations:[{start:{line:474,column:6},end:{line:474,column:20}},{start:{line:474,column:24},end:{line:474,column:29}},{start:{line:474,column:33},end:{line:474,column:43}}],line:474},'60':{loc:{start:{line:485,column:6},end:{line:486,column:27}},type:'if',locations:[{start:{line:485,column:6},end:{line:486,column:27}},{start:{line:485,column:6},end:{line:486,column:27}}],line:485},'61':{loc:{start:{line:498,column:4},end:{line:505,column:5}},type:'if',locations:[{start:{line:498,column:4},end:{line:505,column:5}},{start:{line:498,column:4},end:{line:505,column:5}}],line:498},'62':{loc:{start:{line:513,column:16},end:{line:513,column:51}},type:'cond-expr',locations:[{start:{line:513,column:35},end:{line:513,column:36}},{start:{line:513,column:39},end:{line:513,column:51}}],line:513},'63':{loc:{start:{line:522,column:6},end:{line:524,column:7}},type:'if',locations:[{start:{line:522,column:6},end:{line:524,column:7}},{start:{line:522,column:6},end:{line:524,column:7}}],line:522},'64':{loc:{start:{line:527,column:4},end:{line:528,column:39}},type:'if',locations:[{start:{line:527,column:4},end:{line:528,column:39}},{start:{line:527,column:4},end:{line:528,column:39}}],line:527},'65':{loc:{start:{line:544,column:2},end:{line:551,column:3}},type:'if',locations:[{start:{line:544,column:2},end:{line:551,column:3}},{start:{line:544,column:2},end:{line:551,column:3}}],line:544},'66':{loc:{start:{line:548,column:9},end:{line:551,column:3}},type:'if',locations:[{start:{line:548,column:9},end:{line:551,column:3}},{start:{line:548,column:9},end:{line:551,column:3}}],line:548},'67':{loc:{start:{line:553,column:2},end:{line:554,column:32}},type:'if',locations:[{start:{line:553,column:2},end:{line:554,column:32}},{start:{line:553,column:2},end:{line:554,column:32}}],line:553},'68':{loc:{start:{line:553,column:6},end:{line:553,column:43}},type:'binary-expr',locations:[{start:{line:553,column:6},end:{line:553,column:20}},{start:{line:553,column:24},end:{line:553,column:43}}],line:553},'69':{loc:{start:{line:557,column:2},end:{line:560,column:3}},type:'if',locations:[{start:{line:557,column:2},end:{line:560,column:3}},{start:{line:557,column:2},end:{line:560,column:3}}],line:557},'70':{loc:{start:{line:563,column:2},end:{line:564,column:33}},type:'if',locations:[{start:{line:563,column:2},end:{line:564,column:33}},{start:{line:563,column:2},end:{line:564,column:33}}],line:563},'71':{loc:{start:{line:563,column:6},end:{line:563,column:38}},type:'binary-expr',locations:[{start:{line:563,column:6},end:{line:563,column:19}},{start:{line:563,column:23},end:{line:563,column:38}}],line:563},'72':{loc:{start:{line:569,column:10},end:{line:573,column:24}},type:'binary-expr',locations:[{start:{line:569,column:10},end:{line:569,column:22}},{start:{line:570,column:10},end:{line:570,column:28}},{start:{line:571,column:10},end:{line:571,column:40}},{start:{line:572,column:10},end:{line:572,column:25}},{start:{line:573,column:10},end:{line:573,column:24}}],line:569},'73':{loc:{start:{line:578,column:4},end:{line:580,column:5}},type:'if',locations:[{start:{line:578,column:4},end:{line:580,column:5}},{start:{line:578,column:4},end:{line:580,column:5}}],line:578},'74':{loc:{start:{line:587,column:2},end:{line:596,column:3}},type:'if',locations:[{start:{line:587,column:2},end:{line:596,column:3}},{start:{line:587,column:2},end:{line:596,column:3}}],line:587},'75':{loc:{start:{line:587,column:6},end:{line:587,column:46}},type:'binary-expr',locations:[{start:{line:587,column:6},end:{line:587,column:24}},{start:{line:587,column:28},end:{line:587,column:46}}],line:587},'76':{loc:{start:{line:588,column:4},end:{line:595,column:5}},type:'if',locations:[{start:{line:588,column:4},end:{line:595,column:5}},{start:{line:588,column:4},end:{line:595,column:5}}],line:588},'77':{loc:{start:{line:601,column:2},end:{line:607,column:3}},type:'if',locations:[{start:{line:601,column:2},end:{line:607,column:3}},{start:{line:601,column:2},end:{line:607,column:3}}],line:601},'78':{loc:{start:{line:603,column:4},end:{line:606,column:5}},type:'if',locations:[{start:{line:603,column:4},end:{line:606,column:5}},{start:{line:603,column:4},end:{line:606,column:5}}],line:603},'79':{loc:{start:{line:614,column:2},end:{line:619,column:3}},type:'if',locations:[{start:{line:614,column:2},end:{line:619,column:3}},{start:{line:614,column:2},end:{line:619,column:3}}],line:614},'80':{loc:{start:{line:615,column:4},end:{line:618,column:32}},type:'if',locations:[{start:{line:615,column:4},end:{line:618,column:32}},{start:{line:615,column:4},end:{line:618,column:32}}],line:615},'81':{loc:{start:{line:633,column:2},end:{line:637,column:3}},type:'if',locations:[{start:{line:633,column:2},end:{line:637,column:3}},{start:{line:633,column:2},end:{line:637,column:3}}],line:633},'82':{loc:{start:{line:642,column:4},end:{line:644,column:5}},type:'if',locations:[{start:{line:642,column:4},end:{line:644,column:5}},{start:{line:642,column:4},end:{line:644,column:5}}],line:642},'83':{loc:{start:{line:650,column:4},end:{line:652,column:5}},type:'if',locations:[{start:{line:650,column:4},end:{line:652,column:5}},{start:{line:650,column:4},end:{line:652,column:5}}],line:650}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0,'223':0,'224':0,'225':0,'226':0,'227':0,'228':0,'229':0,'230':0,'231':0,'232':0,'233':0,'234':0,'235':0,'236':0,'237':0,'238':0,'239':0,'240':0,'241':0,'242':0,'243':0,'244':0,'245':0,'246':0,'247':0,'248':0,'249':0,'250':0,'251':0,'252':0,'253':0,'254':0,'255':0,'256':0,'257':0,'258':0,'259':0,'260':0,'261':0,'262':0,'263':0,'264':0,'265':0,'266':0,'267':0,'268':0,'269':0,'270':0,'271':0,'272':0,'273':0,'274':0,'275':0,'276':0,'277':0,'278':0,'279':0,'280':0,'281':0,'282':0,'283':0,'284':0,'285':0,'286':0,'287':0,'288':0,'289':0,'290':0,'291':0,'292':0,'293':0,'294':0,'295':0,'296':0,'297':0,'298':0,'299':0,'300':0,'301':0,'302':0,'303':0,'304':0,'305':0,'306':0,'307':0,'308':0,'309':0,'310':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0],'34':[0,0],'35':[0,0],'36':[0,0],'37':[0,0,0,0,0],'38':[0,0],'39':[0,0],'40':[0,0],'41':[0,0,0],'42':[0,0],'43':[0,0],'44':[0,0],'45':[0,0],'46':[0,0],'47':[0,0],'48':[0,0],'49':[0,0],'50':[0,0],'51':[0,0],'52':[0,0],'53':[0,0,0,0],'54':[0,0],'55':[0,0],'56':[0,0],'57':[0,0],'58':[0,0],'59':[0,0,0],'60':[0,0],'61':[0,0],'62':[0,0],'63':[0,0],'64':[0,0],'65':[0,0],'66':[0,0],'67':[0,0],'68':[0,0],'69':[0,0],'70':[0,0],'71':[0,0],'72':[0,0,0,0,0],'73':[0,0],'74':[0,0],'75':[0,0],'76':[0,0],'77':[0,0],'78':[0,0],'79':[0,0],'80':[0,0],'81':[0,0],'82':[0,0],'83':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_uqcwy6pkl.s[0]++;module.exports=Writable;cov_uqcwy6pkl.s[1]++;Writable.WritableState=WritableState;const util=(cov_uqcwy6pkl.s[2]++,require('util'));const internalUtil=(cov_uqcwy6pkl.s[3]++,require('internal/util'));const Stream=(cov_uqcwy6pkl.s[4]++,require('stream'));const Buffer=(cov_uqcwy6pkl.s[5]++,require('buffer').Buffer);const destroyImpl=(cov_uqcwy6pkl.s[6]++,require('internal/streams/destroy'));const errors=(cov_uqcwy6pkl.s[7]++,require('internal/errors'));cov_uqcwy6pkl.s[8]++;util.inherits(Writable,Stream);function nop(){cov_uqcwy6pkl.f[0]++;}function WritableState(options,stream){cov_uqcwy6pkl.f[1]++;cov_uqcwy6pkl.s[9]++;options=(cov_uqcwy6pkl.b[0][0]++,options)||(cov_uqcwy6pkl.b[0][1]++,{});// Duplex streams are both readable and writable, but share
// the same options object.
// However, some cases require setting options to different
// values for the readable and the writable sides of the duplex stream.
// These options can be provided separately as readableXXX and writableXXX.
var isDuplex=(cov_uqcwy6pkl.s[10]++,stream instanceof Stream.Duplex);// object stream flag to indicate whether or not this stream
// contains buffers or objects.
cov_uqcwy6pkl.s[11]++;this.objectMode=!!options.objectMode;cov_uqcwy6pkl.s[12]++;if(isDuplex){cov_uqcwy6pkl.b[1][0]++;cov_uqcwy6pkl.s[13]++;this.objectMode=(cov_uqcwy6pkl.b[2][0]++,this.objectMode)||(cov_uqcwy6pkl.b[2][1]++,!!options.writableObjectMode);}else{cov_uqcwy6pkl.b[1][1]++;}// the point at which write() starts returning false
// Note: 0 is a valid value, means that we always return false if
// the entire buffer is not flushed immediately on write()
var hwm=(cov_uqcwy6pkl.s[14]++,options.highWaterMark);var writableHwm=(cov_uqcwy6pkl.s[15]++,options.writableHighWaterMark);var defaultHwm=(cov_uqcwy6pkl.s[16]++,this.objectMode?(cov_uqcwy6pkl.b[3][0]++,16):(cov_uqcwy6pkl.b[3][1]++,16*1024));cov_uqcwy6pkl.s[17]++;if((cov_uqcwy6pkl.b[5][0]++,hwm)||(cov_uqcwy6pkl.b[5][1]++,hwm===0)){cov_uqcwy6pkl.b[4][0]++;cov_uqcwy6pkl.s[18]++;this.highWaterMark=hwm;}else{cov_uqcwy6pkl.b[4][1]++;cov_uqcwy6pkl.s[19]++;if((cov_uqcwy6pkl.b[7][0]++,isDuplex)&&((cov_uqcwy6pkl.b[7][1]++,writableHwm)||(cov_uqcwy6pkl.b[7][2]++,writableHwm===0))){cov_uqcwy6pkl.b[6][0]++;cov_uqcwy6pkl.s[20]++;this.highWaterMark=writableHwm;}else{cov_uqcwy6pkl.b[6][1]++;cov_uqcwy6pkl.s[21]++;this.highWaterMark=defaultHwm;}}// cast to ints.
cov_uqcwy6pkl.s[22]++;this.highWaterMark=Math.floor(this.highWaterMark);// if _final has been called
cov_uqcwy6pkl.s[23]++;this.finalCalled=false;// drain event flag.
cov_uqcwy6pkl.s[24]++;this.needDrain=false;// at the start of calling end()
cov_uqcwy6pkl.s[25]++;this.ending=false;// when end() has been called, and returned
cov_uqcwy6pkl.s[26]++;this.ended=false;// when 'finish' is emitted
cov_uqcwy6pkl.s[27]++;this.finished=false;// has it been destroyed
cov_uqcwy6pkl.s[28]++;this.destroyed=false;// should we decode strings into buffers before passing to _write?
// this is here so that some node-core streams can optimize string
// handling at a lower level.
var noDecode=(cov_uqcwy6pkl.s[29]++,options.decodeStrings===false);cov_uqcwy6pkl.s[30]++;this.decodeStrings=!noDecode;// Crypto is kind of old and crusty.  Historically, its default string
// encoding is 'binary' so we have to make this configurable.
// Everything else in the universe uses 'utf8', though.
cov_uqcwy6pkl.s[31]++;this.defaultEncoding=(cov_uqcwy6pkl.b[8][0]++,options.defaultEncoding)||(cov_uqcwy6pkl.b[8][1]++,'utf8');// not an actual buffer we keep track of, but a measurement
// of how much we're waiting to get pushed to some underlying
// socket or file.
cov_uqcwy6pkl.s[32]++;this.length=0;// a flag to see when we're in the middle of a write.
cov_uqcwy6pkl.s[33]++;this.writing=false;// when true all writes will be buffered until .uncork() call
cov_uqcwy6pkl.s[34]++;this.corked=0;// a flag to be able to tell if the onwrite cb is called immediately,
// or on a later tick.  We set this to true at first, because any
// actions that shouldn't happen until "later" should generally also
// not happen before the first write call.
cov_uqcwy6pkl.s[35]++;this.sync=true;// a flag to know if we're processing previously buffered items, which
// may call the _write() callback in the same tick, so that we don't
// end up in an overlapped onwrite situation.
cov_uqcwy6pkl.s[36]++;this.bufferProcessing=false;// the callback that's passed to _write(chunk,cb)
cov_uqcwy6pkl.s[37]++;this.onwrite=onwrite.bind(undefined,stream);// the callback that the user supplies to write(chunk,encoding,cb)
cov_uqcwy6pkl.s[38]++;this.writecb=null;// the amount that is being written when _write is called.
cov_uqcwy6pkl.s[39]++;this.writelen=0;cov_uqcwy6pkl.s[40]++;this.bufferedRequest=null;cov_uqcwy6pkl.s[41]++;this.lastBufferedRequest=null;// number of pending user-supplied write callbacks
// this must be 0 before 'finish' can be emitted
cov_uqcwy6pkl.s[42]++;this.pendingcb=0;// emit prefinish if the only thing we're waiting for is _write cbs
// This is relevant for synchronous Transform streams
cov_uqcwy6pkl.s[43]++;this.prefinished=false;// True if the error was already emitted and should not be thrown again
cov_uqcwy6pkl.s[44]++;this.errorEmitted=false;// count buffered requests
cov_uqcwy6pkl.s[45]++;this.bufferedRequestCount=0;// allocate the first CorkedRequest, there is always
// one allocated and free to use, and we maintain at most two
var corkReq=(cov_uqcwy6pkl.s[46]++,{next:null,entry:null,finish:undefined});cov_uqcwy6pkl.s[47]++;corkReq.finish=onCorkedFinish.bind(undefined,corkReq,this);cov_uqcwy6pkl.s[48]++;this.corkedRequestsFree=corkReq;}cov_uqcwy6pkl.s[49]++;WritableState.prototype.getBuffer=function getBuffer(){cov_uqcwy6pkl.f[2]++;var current=(cov_uqcwy6pkl.s[50]++,this.bufferedRequest);var out=(cov_uqcwy6pkl.s[51]++,[]);cov_uqcwy6pkl.s[52]++;while(current){cov_uqcwy6pkl.s[53]++;out.push(current);cov_uqcwy6pkl.s[54]++;current=current.next;}cov_uqcwy6pkl.s[55]++;return out;};cov_uqcwy6pkl.s[56]++;Object.defineProperty(WritableState.prototype,'buffer',{get:internalUtil.deprecate(function(){cov_uqcwy6pkl.f[3]++;cov_uqcwy6pkl.s[57]++;return this.getBuffer();},'_writableState.buffer is deprecated. Use _writableState.getBuffer '+'instead.','DEP0003')});// Test _writableState for inheritance to account for Duplex streams,
// whose prototype chain only points to Readable.
var realHasInstance;cov_uqcwy6pkl.s[58]++;if((cov_uqcwy6pkl.b[10][0]++,typeof Symbol==='function')&&(cov_uqcwy6pkl.b[10][1]++,Symbol.hasInstance)){cov_uqcwy6pkl.b[9][0]++;cov_uqcwy6pkl.s[59]++;realHasInstance=Function.prototype[Symbol.hasInstance];cov_uqcwy6pkl.s[60]++;Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){cov_uqcwy6pkl.f[4]++;cov_uqcwy6pkl.s[61]++;if(realHasInstance.call(this,object)){cov_uqcwy6pkl.b[11][0]++;cov_uqcwy6pkl.s[62]++;return true;}else{cov_uqcwy6pkl.b[11][1]++;}cov_uqcwy6pkl.s[63]++;if(this!==Writable){cov_uqcwy6pkl.b[12][0]++;cov_uqcwy6pkl.s[64]++;return false;}else{cov_uqcwy6pkl.b[12][1]++;}cov_uqcwy6pkl.s[65]++;return(cov_uqcwy6pkl.b[13][0]++,object)&&(cov_uqcwy6pkl.b[13][1]++,object._writableState instanceof WritableState);}});}else{cov_uqcwy6pkl.b[9][1]++;cov_uqcwy6pkl.s[66]++;realHasInstance=function(object){cov_uqcwy6pkl.f[5]++;cov_uqcwy6pkl.s[67]++;return object instanceof this;};}function Writable(options){cov_uqcwy6pkl.f[6]++;cov_uqcwy6pkl.s[68]++;// Writable ctor is applied to Duplexes, too.
// `realHasInstance` is necessary because using plain `instanceof`
// would return false, as no `_writableState` property is attached.
// Trying to use the custom `instanceof` for Writable here will also break the
// Node.js LazyTransform implementation, which has a non-trivial getter for
// `_writableState` that would lead to infinite recursion.
if((cov_uqcwy6pkl.b[15][0]++,!realHasInstance.call(Writable,this))&&(cov_uqcwy6pkl.b[15][1]++,!(this instanceof Stream.Duplex))){cov_uqcwy6pkl.b[14][0]++;cov_uqcwy6pkl.s[69]++;return new Writable(options);}else{cov_uqcwy6pkl.b[14][1]++;}cov_uqcwy6pkl.s[70]++;this._writableState=new WritableState(options,this);// legacy.
cov_uqcwy6pkl.s[71]++;this.writable=true;cov_uqcwy6pkl.s[72]++;if(options){cov_uqcwy6pkl.b[16][0]++;cov_uqcwy6pkl.s[73]++;if(typeof options.write==='function'){cov_uqcwy6pkl.b[17][0]++;cov_uqcwy6pkl.s[74]++;this._write=options.write;}else{cov_uqcwy6pkl.b[17][1]++;}cov_uqcwy6pkl.s[75]++;if(typeof options.writev==='function'){cov_uqcwy6pkl.b[18][0]++;cov_uqcwy6pkl.s[76]++;this._writev=options.writev;}else{cov_uqcwy6pkl.b[18][1]++;}cov_uqcwy6pkl.s[77]++;if(typeof options.destroy==='function'){cov_uqcwy6pkl.b[19][0]++;cov_uqcwy6pkl.s[78]++;this._destroy=options.destroy;}else{cov_uqcwy6pkl.b[19][1]++;}cov_uqcwy6pkl.s[79]++;if(typeof options.final==='function'){cov_uqcwy6pkl.b[20][0]++;cov_uqcwy6pkl.s[80]++;this._final=options.final;}else{cov_uqcwy6pkl.b[20][1]++;}}else{cov_uqcwy6pkl.b[16][1]++;}cov_uqcwy6pkl.s[81]++;Stream.call(this);}// Otherwise people can pipe Writable streams, which is just wrong.
cov_uqcwy6pkl.s[82]++;Writable.prototype.pipe=function(){cov_uqcwy6pkl.f[7]++;cov_uqcwy6pkl.s[83]++;this.emit('error',new Error('Cannot pipe, not readable'));};function writeAfterEnd(stream,cb){cov_uqcwy6pkl.f[8]++;var er=(cov_uqcwy6pkl.s[84]++,new Error('write after end'));// TODO: defer error events consistently everywhere, not just the cb
cov_uqcwy6pkl.s[85]++;stream.emit('error',er);cov_uqcwy6pkl.s[86]++;process.nextTick(cb,er);}// Checks that a user-supplied chunk is valid, especially for the particular
// mode the stream is in. Currently this means that `null` is never accepted
// and undefined/non-string values are only allowed in object mode.
function validChunk(stream,state,chunk,cb){cov_uqcwy6pkl.f[9]++;var valid=(cov_uqcwy6pkl.s[87]++,true);var er=(cov_uqcwy6pkl.s[88]++,false);cov_uqcwy6pkl.s[89]++;if(chunk===null){cov_uqcwy6pkl.b[21][0]++;cov_uqcwy6pkl.s[90]++;er=new TypeError('May not write null values to stream');}else{cov_uqcwy6pkl.b[21][1]++;cov_uqcwy6pkl.s[91]++;if((cov_uqcwy6pkl.b[23][0]++,typeof chunk!=='string')&&(cov_uqcwy6pkl.b[23][1]++,chunk!==undefined)&&(cov_uqcwy6pkl.b[23][2]++,!state.objectMode)){cov_uqcwy6pkl.b[22][0]++;cov_uqcwy6pkl.s[92]++;er=new TypeError('Invalid non-string/buffer chunk');}else{cov_uqcwy6pkl.b[22][1]++;}}cov_uqcwy6pkl.s[93]++;if(er){cov_uqcwy6pkl.b[24][0]++;cov_uqcwy6pkl.s[94]++;stream.emit('error',er);cov_uqcwy6pkl.s[95]++;process.nextTick(cb,er);cov_uqcwy6pkl.s[96]++;valid=false;}else{cov_uqcwy6pkl.b[24][1]++;}cov_uqcwy6pkl.s[97]++;return valid;}cov_uqcwy6pkl.s[98]++;Writable.prototype.write=function(chunk,encoding,cb){cov_uqcwy6pkl.f[10]++;var state=(cov_uqcwy6pkl.s[99]++,this._writableState);var ret=(cov_uqcwy6pkl.s[100]++,false);var isBuf=(cov_uqcwy6pkl.s[101]++,(cov_uqcwy6pkl.b[25][0]++,!state.objectMode)&&(cov_uqcwy6pkl.b[25][1]++,Stream._isUint8Array(chunk)));cov_uqcwy6pkl.s[102]++;if((cov_uqcwy6pkl.b[27][0]++,isBuf)&&(cov_uqcwy6pkl.b[27][1]++,Object.getPrototypeOf(chunk)!==Buffer.prototype)){cov_uqcwy6pkl.b[26][0]++;cov_uqcwy6pkl.s[103]++;chunk=Stream._uint8ArrayToBuffer(chunk);}else{cov_uqcwy6pkl.b[26][1]++;}cov_uqcwy6pkl.s[104]++;if(typeof encoding==='function'){cov_uqcwy6pkl.b[28][0]++;cov_uqcwy6pkl.s[105]++;cb=encoding;cov_uqcwy6pkl.s[106]++;encoding=null;}else{cov_uqcwy6pkl.b[28][1]++;}cov_uqcwy6pkl.s[107]++;if(isBuf){cov_uqcwy6pkl.b[29][0]++;cov_uqcwy6pkl.s[108]++;encoding='buffer';}else{cov_uqcwy6pkl.b[29][1]++;cov_uqcwy6pkl.s[109]++;if(!encoding){cov_uqcwy6pkl.b[30][0]++;cov_uqcwy6pkl.s[110]++;encoding=state.defaultEncoding;}else{cov_uqcwy6pkl.b[30][1]++;}}cov_uqcwy6pkl.s[111]++;if(typeof cb!=='function'){cov_uqcwy6pkl.b[31][0]++;cov_uqcwy6pkl.s[112]++;cb=nop;}else{cov_uqcwy6pkl.b[31][1]++;}cov_uqcwy6pkl.s[113]++;if(state.ended){cov_uqcwy6pkl.b[32][0]++;cov_uqcwy6pkl.s[114]++;writeAfterEnd(this,cb);}else{cov_uqcwy6pkl.b[32][1]++;cov_uqcwy6pkl.s[115]++;if((cov_uqcwy6pkl.b[34][0]++,isBuf)||(cov_uqcwy6pkl.b[34][1]++,validChunk(this,state,chunk,cb))){cov_uqcwy6pkl.b[33][0]++;cov_uqcwy6pkl.s[116]++;state.pendingcb++;cov_uqcwy6pkl.s[117]++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb);}else{cov_uqcwy6pkl.b[33][1]++;}}cov_uqcwy6pkl.s[118]++;return ret;};cov_uqcwy6pkl.s[119]++;Writable.prototype.cork=function(){cov_uqcwy6pkl.f[11]++;var state=(cov_uqcwy6pkl.s[120]++,this._writableState);cov_uqcwy6pkl.s[121]++;state.corked++;};cov_uqcwy6pkl.s[122]++;Writable.prototype.uncork=function(){cov_uqcwy6pkl.f[12]++;var state=(cov_uqcwy6pkl.s[123]++,this._writableState);cov_uqcwy6pkl.s[124]++;if(state.corked){cov_uqcwy6pkl.b[35][0]++;cov_uqcwy6pkl.s[125]++;state.corked--;cov_uqcwy6pkl.s[126]++;if((cov_uqcwy6pkl.b[37][0]++,!state.writing)&&(cov_uqcwy6pkl.b[37][1]++,!state.corked)&&(cov_uqcwy6pkl.b[37][2]++,!state.finished)&&(cov_uqcwy6pkl.b[37][3]++,!state.bufferProcessing)&&(cov_uqcwy6pkl.b[37][4]++,state.bufferedRequest)){cov_uqcwy6pkl.b[36][0]++;cov_uqcwy6pkl.s[127]++;clearBuffer(this,state);}else{cov_uqcwy6pkl.b[36][1]++;}}else{cov_uqcwy6pkl.b[35][1]++;}};cov_uqcwy6pkl.s[128]++;Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){cov_uqcwy6pkl.f[13]++;cov_uqcwy6pkl.s[129]++;// node::ParseEncoding() requires lower case.
if(typeof encoding==='string'){cov_uqcwy6pkl.b[38][0]++;cov_uqcwy6pkl.s[130]++;encoding=encoding.toLowerCase();}else{cov_uqcwy6pkl.b[38][1]++;}cov_uqcwy6pkl.s[131]++;if(!Buffer.isEncoding(encoding)){cov_uqcwy6pkl.b[39][0]++;cov_uqcwy6pkl.s[132]++;throw new errors.TypeError('ERR_UNKNOWN_ENCODING',encoding);}else{cov_uqcwy6pkl.b[39][1]++;}cov_uqcwy6pkl.s[133]++;this._writableState.defaultEncoding=encoding;cov_uqcwy6pkl.s[134]++;return this;};function decodeChunk(state,chunk,encoding){cov_uqcwy6pkl.f[14]++;cov_uqcwy6pkl.s[135]++;if((cov_uqcwy6pkl.b[41][0]++,!state.objectMode)&&(cov_uqcwy6pkl.b[41][1]++,state.decodeStrings!==false)&&(cov_uqcwy6pkl.b[41][2]++,typeof chunk==='string')){cov_uqcwy6pkl.b[40][0]++;cov_uqcwy6pkl.s[136]++;chunk=Buffer.from(chunk,encoding);}else{cov_uqcwy6pkl.b[40][1]++;}cov_uqcwy6pkl.s[137]++;return chunk;}// if we're already writing something, then just put this
// in the queue, and wait our turn.  Otherwise, call _write
// If we return false, then we need a drain event, so set that flag.
function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){cov_uqcwy6pkl.f[15]++;cov_uqcwy6pkl.s[138]++;if(!isBuf){cov_uqcwy6pkl.b[42][0]++;var newChunk=(cov_uqcwy6pkl.s[139]++,decodeChunk(state,chunk,encoding));cov_uqcwy6pkl.s[140]++;if(chunk!==newChunk){cov_uqcwy6pkl.b[43][0]++;cov_uqcwy6pkl.s[141]++;isBuf=true;cov_uqcwy6pkl.s[142]++;encoding='buffer';cov_uqcwy6pkl.s[143]++;chunk=newChunk;}else{cov_uqcwy6pkl.b[43][1]++;}}else{cov_uqcwy6pkl.b[42][1]++;}var len=(cov_uqcwy6pkl.s[144]++,state.objectMode?(cov_uqcwy6pkl.b[44][0]++,1):(cov_uqcwy6pkl.b[44][1]++,chunk.length));cov_uqcwy6pkl.s[145]++;state.length+=len;var ret=(cov_uqcwy6pkl.s[146]++,state.length<state.highWaterMark);// we must ensure that previous needDrain will not be reset to false.
cov_uqcwy6pkl.s[147]++;if(!ret){cov_uqcwy6pkl.b[45][0]++;cov_uqcwy6pkl.s[148]++;state.needDrain=true;}else{cov_uqcwy6pkl.b[45][1]++;}cov_uqcwy6pkl.s[149]++;if((cov_uqcwy6pkl.b[47][0]++,state.writing)||(cov_uqcwy6pkl.b[47][1]++,state.corked)){cov_uqcwy6pkl.b[46][0]++;var last=(cov_uqcwy6pkl.s[150]++,state.lastBufferedRequest);cov_uqcwy6pkl.s[151]++;state.lastBufferedRequest={chunk,encoding,isBuf,callback:cb,next:null};cov_uqcwy6pkl.s[152]++;if(last){cov_uqcwy6pkl.b[48][0]++;cov_uqcwy6pkl.s[153]++;last.next=state.lastBufferedRequest;}else{cov_uqcwy6pkl.b[48][1]++;cov_uqcwy6pkl.s[154]++;state.bufferedRequest=state.lastBufferedRequest;}cov_uqcwy6pkl.s[155]++;state.bufferedRequestCount+=1;}else{cov_uqcwy6pkl.b[46][1]++;cov_uqcwy6pkl.s[156]++;doWrite(stream,state,false,len,chunk,encoding,cb);}cov_uqcwy6pkl.s[157]++;return ret;}function doWrite(stream,state,writev,len,chunk,encoding,cb){cov_uqcwy6pkl.f[16]++;cov_uqcwy6pkl.s[158]++;state.writelen=len;cov_uqcwy6pkl.s[159]++;state.writecb=cb;cov_uqcwy6pkl.s[160]++;state.writing=true;cov_uqcwy6pkl.s[161]++;state.sync=true;cov_uqcwy6pkl.s[162]++;if(writev){cov_uqcwy6pkl.b[49][0]++;cov_uqcwy6pkl.s[163]++;stream._writev(chunk,state.onwrite);}else{cov_uqcwy6pkl.b[49][1]++;cov_uqcwy6pkl.s[164]++;stream._write(chunk,encoding,state.onwrite);}cov_uqcwy6pkl.s[165]++;state.sync=false;}function onwriteError(stream,state,sync,er,cb){cov_uqcwy6pkl.f[17]++;cov_uqcwy6pkl.s[166]++;--state.pendingcb;cov_uqcwy6pkl.s[167]++;if(sync){cov_uqcwy6pkl.b[50][0]++;cov_uqcwy6pkl.s[168]++;// defer the callback if we are being called synchronously
// to avoid piling up things on the stack
process.nextTick(cb,er);// this can emit finish, and it will always happen
// after error
cov_uqcwy6pkl.s[169]++;process.nextTick(finishMaybe,stream,state);cov_uqcwy6pkl.s[170]++;stream._writableState.errorEmitted=true;cov_uqcwy6pkl.s[171]++;stream.emit('error',er);}else{cov_uqcwy6pkl.b[50][1]++;cov_uqcwy6pkl.s[172]++;// the caller expect this to happen before if
// it is async
cb(er);cov_uqcwy6pkl.s[173]++;stream._writableState.errorEmitted=true;cov_uqcwy6pkl.s[174]++;stream.emit('error',er);// this can emit finish, but finish must
// always follow error
cov_uqcwy6pkl.s[175]++;finishMaybe(stream,state);}}function onwriteStateUpdate(state){cov_uqcwy6pkl.f[18]++;cov_uqcwy6pkl.s[176]++;state.writing=false;cov_uqcwy6pkl.s[177]++;state.writecb=null;cov_uqcwy6pkl.s[178]++;state.length-=state.writelen;cov_uqcwy6pkl.s[179]++;state.writelen=0;}function onwrite(stream,er){cov_uqcwy6pkl.f[19]++;var state=(cov_uqcwy6pkl.s[180]++,stream._writableState);var sync=(cov_uqcwy6pkl.s[181]++,state.sync);var cb=(cov_uqcwy6pkl.s[182]++,state.writecb);cov_uqcwy6pkl.s[183]++;onwriteStateUpdate(state);cov_uqcwy6pkl.s[184]++;if(er){cov_uqcwy6pkl.b[51][0]++;cov_uqcwy6pkl.s[185]++;onwriteError(stream,state,sync,er,cb);}else{cov_uqcwy6pkl.b[51][1]++;// Check if we're actually ready to finish, but don't emit yet
var finished=(cov_uqcwy6pkl.s[186]++,needFinish(state));cov_uqcwy6pkl.s[187]++;if((cov_uqcwy6pkl.b[53][0]++,!finished)&&(cov_uqcwy6pkl.b[53][1]++,!state.corked)&&(cov_uqcwy6pkl.b[53][2]++,!state.bufferProcessing)&&(cov_uqcwy6pkl.b[53][3]++,state.bufferedRequest)){cov_uqcwy6pkl.b[52][0]++;cov_uqcwy6pkl.s[188]++;clearBuffer(stream,state);}else{cov_uqcwy6pkl.b[52][1]++;}cov_uqcwy6pkl.s[189]++;if(sync){cov_uqcwy6pkl.b[54][0]++;cov_uqcwy6pkl.s[190]++;process.nextTick(afterWrite,stream,state,finished,cb);}else{cov_uqcwy6pkl.b[54][1]++;cov_uqcwy6pkl.s[191]++;afterWrite(stream,state,finished,cb);}}}function afterWrite(stream,state,finished,cb){cov_uqcwy6pkl.f[20]++;cov_uqcwy6pkl.s[192]++;if(!finished){cov_uqcwy6pkl.b[55][0]++;cov_uqcwy6pkl.s[193]++;onwriteDrain(stream,state);}else{cov_uqcwy6pkl.b[55][1]++;}cov_uqcwy6pkl.s[194]++;state.pendingcb--;cov_uqcwy6pkl.s[195]++;cb();cov_uqcwy6pkl.s[196]++;finishMaybe(stream,state);}// Must force callback to be called on nextTick, so that we don't
// emit 'drain' before the write() consumer gets the 'false' return
// value, and has a chance to attach a 'drain' listener.
function onwriteDrain(stream,state){cov_uqcwy6pkl.f[21]++;cov_uqcwy6pkl.s[197]++;if((cov_uqcwy6pkl.b[57][0]++,state.length===0)&&(cov_uqcwy6pkl.b[57][1]++,state.needDrain)){cov_uqcwy6pkl.b[56][0]++;cov_uqcwy6pkl.s[198]++;state.needDrain=false;cov_uqcwy6pkl.s[199]++;stream.emit('drain');}else{cov_uqcwy6pkl.b[56][1]++;}}// if there's something in the buffer waiting, then process it
function clearBuffer(stream,state){cov_uqcwy6pkl.f[22]++;cov_uqcwy6pkl.s[200]++;state.bufferProcessing=true;var entry=(cov_uqcwy6pkl.s[201]++,state.bufferedRequest);cov_uqcwy6pkl.s[202]++;if((cov_uqcwy6pkl.b[59][0]++,stream._writev)&&(cov_uqcwy6pkl.b[59][1]++,entry)&&(cov_uqcwy6pkl.b[59][2]++,entry.next)){cov_uqcwy6pkl.b[58][0]++;// Fast case, write everything using _writev()
var l=(cov_uqcwy6pkl.s[203]++,state.bufferedRequestCount);var buffer=(cov_uqcwy6pkl.s[204]++,new Array(l));var holder=(cov_uqcwy6pkl.s[205]++,state.corkedRequestsFree);cov_uqcwy6pkl.s[206]++;holder.entry=entry;var count=(cov_uqcwy6pkl.s[207]++,0);var allBuffers=(cov_uqcwy6pkl.s[208]++,true);cov_uqcwy6pkl.s[209]++;while(entry){cov_uqcwy6pkl.s[210]++;buffer[count]=entry;cov_uqcwy6pkl.s[211]++;if(!entry.isBuf){cov_uqcwy6pkl.b[60][0]++;cov_uqcwy6pkl.s[212]++;allBuffers=false;}else{cov_uqcwy6pkl.b[60][1]++;}cov_uqcwy6pkl.s[213]++;entry=entry.next;cov_uqcwy6pkl.s[214]++;count+=1;}cov_uqcwy6pkl.s[215]++;buffer.allBuffers=allBuffers;cov_uqcwy6pkl.s[216]++;doWrite(stream,state,true,state.length,buffer,'',holder.finish);// doWrite is almost always async, defer these to save a bit of time
// as the hot path ends with doWrite
cov_uqcwy6pkl.s[217]++;state.pendingcb++;cov_uqcwy6pkl.s[218]++;state.lastBufferedRequest=null;cov_uqcwy6pkl.s[219]++;if(holder.next){cov_uqcwy6pkl.b[61][0]++;cov_uqcwy6pkl.s[220]++;state.corkedRequestsFree=holder.next;cov_uqcwy6pkl.s[221]++;holder.next=null;}else{cov_uqcwy6pkl.b[61][1]++;var corkReq=(cov_uqcwy6pkl.s[222]++,{next:null,entry:null,finish:undefined});cov_uqcwy6pkl.s[223]++;corkReq.finish=onCorkedFinish.bind(undefined,corkReq,state);cov_uqcwy6pkl.s[224]++;state.corkedRequestsFree=corkReq;}cov_uqcwy6pkl.s[225]++;state.bufferedRequestCount=0;}else{cov_uqcwy6pkl.b[58][1]++;cov_uqcwy6pkl.s[226]++;// Slow case, write chunks one-by-one
while(entry){var chunk=(cov_uqcwy6pkl.s[227]++,entry.chunk);var encoding=(cov_uqcwy6pkl.s[228]++,entry.encoding);var cb=(cov_uqcwy6pkl.s[229]++,entry.callback);var len=(cov_uqcwy6pkl.s[230]++,state.objectMode?(cov_uqcwy6pkl.b[62][0]++,1):(cov_uqcwy6pkl.b[62][1]++,chunk.length));cov_uqcwy6pkl.s[231]++;doWrite(stream,state,false,len,chunk,encoding,cb);cov_uqcwy6pkl.s[232]++;entry=entry.next;cov_uqcwy6pkl.s[233]++;state.bufferedRequestCount--;// if we didn't call the onwrite immediately, then
// it means that we need to wait until it does.
// also, that means that the chunk and cb are currently
// being processed, so move the buffer counter past them.
cov_uqcwy6pkl.s[234]++;if(state.writing){cov_uqcwy6pkl.b[63][0]++;cov_uqcwy6pkl.s[235]++;break;}else{cov_uqcwy6pkl.b[63][1]++;}}cov_uqcwy6pkl.s[236]++;if(entry===null){cov_uqcwy6pkl.b[64][0]++;cov_uqcwy6pkl.s[237]++;state.lastBufferedRequest=null;}else{cov_uqcwy6pkl.b[64][1]++;}}cov_uqcwy6pkl.s[238]++;state.bufferedRequest=entry;cov_uqcwy6pkl.s[239]++;state.bufferProcessing=false;}cov_uqcwy6pkl.s[240]++;Writable.prototype._write=function(chunk,encoding,cb){cov_uqcwy6pkl.f[23]++;cov_uqcwy6pkl.s[241]++;cb(new Error('_write() is not implemented'));};cov_uqcwy6pkl.s[242]++;Writable.prototype._writev=null;cov_uqcwy6pkl.s[243]++;Writable.prototype.end=function(chunk,encoding,cb){cov_uqcwy6pkl.f[24]++;var state=(cov_uqcwy6pkl.s[244]++,this._writableState);cov_uqcwy6pkl.s[245]++;if(typeof chunk==='function'){cov_uqcwy6pkl.b[65][0]++;cov_uqcwy6pkl.s[246]++;cb=chunk;cov_uqcwy6pkl.s[247]++;chunk=null;cov_uqcwy6pkl.s[248]++;encoding=null;}else{cov_uqcwy6pkl.b[65][1]++;cov_uqcwy6pkl.s[249]++;if(typeof encoding==='function'){cov_uqcwy6pkl.b[66][0]++;cov_uqcwy6pkl.s[250]++;cb=encoding;cov_uqcwy6pkl.s[251]++;encoding=null;}else{cov_uqcwy6pkl.b[66][1]++;}}cov_uqcwy6pkl.s[252]++;if((cov_uqcwy6pkl.b[68][0]++,chunk!==null)&&(cov_uqcwy6pkl.b[68][1]++,chunk!==undefined)){cov_uqcwy6pkl.b[67][0]++;cov_uqcwy6pkl.s[253]++;this.write(chunk,encoding);}else{cov_uqcwy6pkl.b[67][1]++;}// .end() fully uncorks
cov_uqcwy6pkl.s[254]++;if(state.corked){cov_uqcwy6pkl.b[69][0]++;cov_uqcwy6pkl.s[255]++;state.corked=1;cov_uqcwy6pkl.s[256]++;this.uncork();}else{cov_uqcwy6pkl.b[69][1]++;}// ignore unnecessary end() calls.
cov_uqcwy6pkl.s[257]++;if((cov_uqcwy6pkl.b[71][0]++,!state.ending)&&(cov_uqcwy6pkl.b[71][1]++,!state.finished)){cov_uqcwy6pkl.b[70][0]++;cov_uqcwy6pkl.s[258]++;endWritable(this,state,cb);}else{cov_uqcwy6pkl.b[70][1]++;}};function needFinish(state){cov_uqcwy6pkl.f[25]++;cov_uqcwy6pkl.s[259]++;return(cov_uqcwy6pkl.b[72][0]++,state.ending)&&(cov_uqcwy6pkl.b[72][1]++,state.length===0)&&(cov_uqcwy6pkl.b[72][2]++,state.bufferedRequest===null)&&(cov_uqcwy6pkl.b[72][3]++,!state.finished)&&(cov_uqcwy6pkl.b[72][4]++,!state.writing);}function callFinal(stream,state){cov_uqcwy6pkl.f[26]++;cov_uqcwy6pkl.s[260]++;stream._final(err=>{cov_uqcwy6pkl.f[27]++;cov_uqcwy6pkl.s[261]++;state.pendingcb--;cov_uqcwy6pkl.s[262]++;if(err){cov_uqcwy6pkl.b[73][0]++;cov_uqcwy6pkl.s[263]++;stream.emit('error',err);}else{cov_uqcwy6pkl.b[73][1]++;}cov_uqcwy6pkl.s[264]++;state.prefinished=true;cov_uqcwy6pkl.s[265]++;stream.emit('prefinish');cov_uqcwy6pkl.s[266]++;finishMaybe(stream,state);});}function prefinish(stream,state){cov_uqcwy6pkl.f[28]++;cov_uqcwy6pkl.s[267]++;if((cov_uqcwy6pkl.b[75][0]++,!state.prefinished)&&(cov_uqcwy6pkl.b[75][1]++,!state.finalCalled)){cov_uqcwy6pkl.b[74][0]++;cov_uqcwy6pkl.s[268]++;if(typeof stream._final==='function'){cov_uqcwy6pkl.b[76][0]++;cov_uqcwy6pkl.s[269]++;state.pendingcb++;cov_uqcwy6pkl.s[270]++;state.finalCalled=true;cov_uqcwy6pkl.s[271]++;process.nextTick(callFinal,stream,state);}else{cov_uqcwy6pkl.b[76][1]++;cov_uqcwy6pkl.s[272]++;state.prefinished=true;cov_uqcwy6pkl.s[273]++;stream.emit('prefinish');}}else{cov_uqcwy6pkl.b[74][1]++;}}function finishMaybe(stream,state){cov_uqcwy6pkl.f[29]++;var need=(cov_uqcwy6pkl.s[274]++,needFinish(state));cov_uqcwy6pkl.s[275]++;if(need){cov_uqcwy6pkl.b[77][0]++;cov_uqcwy6pkl.s[276]++;prefinish(stream,state);cov_uqcwy6pkl.s[277]++;if(state.pendingcb===0){cov_uqcwy6pkl.b[78][0]++;cov_uqcwy6pkl.s[278]++;state.finished=true;cov_uqcwy6pkl.s[279]++;stream.emit('finish');}else{cov_uqcwy6pkl.b[78][1]++;}}else{cov_uqcwy6pkl.b[77][1]++;}cov_uqcwy6pkl.s[280]++;return need;}function endWritable(stream,state,cb){cov_uqcwy6pkl.f[30]++;cov_uqcwy6pkl.s[281]++;state.ending=true;cov_uqcwy6pkl.s[282]++;finishMaybe(stream,state);cov_uqcwy6pkl.s[283]++;if(cb){cov_uqcwy6pkl.b[79][0]++;cov_uqcwy6pkl.s[284]++;if(state.finished){cov_uqcwy6pkl.b[80][0]++;cov_uqcwy6pkl.s[285]++;process.nextTick(cb);}else{cov_uqcwy6pkl.b[80][1]++;cov_uqcwy6pkl.s[286]++;stream.once('finish',cb);}}else{cov_uqcwy6pkl.b[79][1]++;}cov_uqcwy6pkl.s[287]++;state.ended=true;cov_uqcwy6pkl.s[288]++;stream.writable=false;}function onCorkedFinish(corkReq,state,err){cov_uqcwy6pkl.f[31]++;var entry=(cov_uqcwy6pkl.s[289]++,corkReq.entry);cov_uqcwy6pkl.s[290]++;corkReq.entry=null;cov_uqcwy6pkl.s[291]++;while(entry){var cb=(cov_uqcwy6pkl.s[292]++,entry.callback);cov_uqcwy6pkl.s[293]++;state.pendingcb--;cov_uqcwy6pkl.s[294]++;cb(err);cov_uqcwy6pkl.s[295]++;entry=entry.next;}cov_uqcwy6pkl.s[296]++;if(state.corkedRequestsFree){cov_uqcwy6pkl.b[81][0]++;cov_uqcwy6pkl.s[297]++;state.corkedRequestsFree.next=corkReq;}else{cov_uqcwy6pkl.b[81][1]++;cov_uqcwy6pkl.s[298]++;state.corkedRequestsFree=corkReq;}}cov_uqcwy6pkl.s[299]++;Object.defineProperty(Writable.prototype,'destroyed',{get(){cov_uqcwy6pkl.s[300]++;if(this._writableState===undefined){cov_uqcwy6pkl.b[82][0]++;cov_uqcwy6pkl.s[301]++;return false;}else{cov_uqcwy6pkl.b[82][1]++;}cov_uqcwy6pkl.s[302]++;return this._writableState.destroyed;},set(value){cov_uqcwy6pkl.s[303]++;// we ignore the value if the stream
// has not been initialized yet
if(!this._writableState){cov_uqcwy6pkl.b[83][0]++;cov_uqcwy6pkl.s[304]++;return;}else{cov_uqcwy6pkl.b[83][1]++;}// backward compatibility, the user is explicitly
// managing destroyed
cov_uqcwy6pkl.s[305]++;this._writableState.destroyed=value;}});cov_uqcwy6pkl.s[306]++;Writable.prototype.destroy=destroyImpl.destroy;cov_uqcwy6pkl.s[307]++;Writable.prototype._undestroy=destroyImpl.undestroy;cov_uqcwy6pkl.s[308]++;Writable.prototype._destroy=function(err,cb){cov_uqcwy6pkl.f[32]++;cov_uqcwy6pkl.s[309]++;this.end();cov_uqcwy6pkl.s[310]++;cb(err);};