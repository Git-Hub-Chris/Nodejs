'use strict';var cov_jty5md9nw=function(){var path='internal/process/promises.js',hash='925819759c51ad7b5a50348de8ead16adee4f58e',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'internal/process/promises.js',statementMap:{'0':{start:{line:3,column:25},end:{line:3,column:48}},'1':{start:{line:5,column:27},end:{line:5,column:54}},'2':{start:{line:6,column:32},end:{line:6,column:45}},'3':{start:{line:7,column:30},end:{line:7,column:43}},'4':{start:{line:8,column:35},end:{line:8,column:37}},'5':{start:{line:9,column:20},end:{line:9,column:21}},'6':{start:{line:11,column:0},end:{line:11,column:30}},'7':{start:{line:14,column:2},end:{line:15,column:60}},'8':{start:{line:19,column:26},end:{line:19,column:31}},'9':{start:{line:21,column:2},end:{line:28,column:5}},'10':{start:{line:22,column:4},end:{line:27,column:74}},'11':{start:{line:23,column:6},end:{line:23,column:42}},'12':{start:{line:24,column:9},end:{line:27,column:74}},'13':{start:{line:25,column:6},end:{line:25,column:32}},'14':{start:{line:27,column:6},end:{line:27,column:74}},'15':{start:{line:31,column:4},end:{line:31,column:48}},'16':{start:{line:32,column:4},end:{line:32,column:56}},'17':{start:{line:33,column:4},end:{line:33,column:50}},'18':{start:{line:37,column:28},end:{line:37,column:64}},'19':{start:{line:38,column:4},end:{line:59,column:5}},'20':{start:{line:39,column:6},end:{line:39,column:46}},'21':{start:{line:40,column:18},end:{line:40,column:52}},'22':{start:{line:41,column:6},end:{line:41,column:44}},'23':{start:{line:42,column:6},end:{line:57,column:7}},'24':{start:{line:43,column:22},end:{line:43,column:26}},'25':{start:{line:44,column:8},end:{line:47,column:9}},'26':{start:{line:46,column:10},end:{line:46,column:63}},'27':{start:{line:48,column:8},end:{line:56,column:11}},'28':{start:{line:49,column:10},end:{line:55,column:11}},'29':{start:{line:50,column:12},end:{line:51,column:67}},'30':{start:{line:51,column:14},end:{line:51,column:67}},'31':{start:{line:52,column:12},end:{line:52,column:60}},'32':{start:{line:53,column:12},end:{line:53,column:29}},'33':{start:{line:54,column:12},end:{line:54,column:41}},'34':{start:{line:63,column:20},end:{line:65,column:27}},'35':{start:{line:66,column:4},end:{line:66,column:54}},'36':{start:{line:67,column:4},end:{line:67,column:21}},'37':{start:{line:68,column:4},end:{line:74,column:5}},'38':{start:{line:69,column:6},end:{line:71,column:7}},'39':{start:{line:70,column:8},end:{line:70,column:37}},'40':{start:{line:75,column:4},end:{line:75,column:33}},'41':{start:{line:76,column:4},end:{line:83,column:5}},'42':{start:{line:77,column:6},end:{line:77,column:31}},'43':{start:{line:78,column:6},end:{line:82,column:41}},'44':{start:{line:87,column:23},end:{line:87,column:28}},'45':{start:{line:88,column:4},end:{line:100,column:5}},'46':{start:{line:89,column:22},end:{line:89,column:56}},'47':{start:{line:90,column:21},end:{line:90,column:55}},'48':{start:{line:91,column:6},end:{line:99,column:7}},'49':{start:{line:92,column:8},end:{line:92,column:51}},'50':{start:{line:93,column:20},end:{line:93,column:54}},'51':{start:{line:94,column:8},end:{line:98,column:9}},'52':{start:{line:95,column:10},end:{line:95,column:35}},'53':{start:{line:97,column:10},end:{line:97,column:30}},'54':{start:{line:101,column:4},end:{line:101,column:24}},'55':{start:{line:105,column:4},end:{line:105,column:53}},'56':{start:{line:106,column:4},end:{line:106,column:25}},'57':{start:{line:109,column:2},end:{line:109,column:40}}},fnMap:{'0':{name:'getAsynchronousRejectionWarningObject',decl:{start:{line:13,column:9},end:{line:13,column:46}},loc:{start:{line:13,column:52},end:{line:16,column:1}},line:13},'1':{name:'setupPromises',decl:{start:{line:18,column:9},end:{line:18,column:22}},loc:{start:{line:18,column:43},end:{line:110,column:1}},line:18},'2':{name:'(anonymous_2)',decl:{start:{line:21,column:25},end:{line:21,column:26}},loc:{start:{line:21,column:58},end:{line:28,column:3}},line:21},'3':{name:'unhandledRejection',decl:{start:{line:30,column:11},end:{line:30,column:29}},loc:{start:{line:30,column:47},end:{line:34,column:3}},line:30},'4':{name:'rejectionHandled',decl:{start:{line:36,column:11},end:{line:36,column:27}},loc:{start:{line:36,column:37},end:{line:60,column:3}},line:36},'5':{name:'(anonymous_5)',decl:{start:{line:48,column:25},end:{line:48,column:26}},loc:{start:{line:48,column:36},end:{line:56,column:9}},line:48},'6':{name:'emitWarning',decl:{start:{line:62,column:11},end:{line:62,column:22}},loc:{start:{line:62,column:36},end:{line:84,column:3}},line:62},'7':{name:'emitPendingUnhandledRejections',decl:{start:{line:86,column:11},end:{line:86,column:41}},loc:{start:{line:86,column:44},end:{line:102,column:3}},line:86},'8':{name:'addPendingUnhandledRejection',decl:{start:{line:104,column:11},end:{line:104,column:39}},loc:{start:{line:104,column:57},end:{line:107,column:3}},line:104}},branchMap:{'0':{loc:{start:{line:22,column:4},end:{line:27,column:74}},type:'if',locations:[{start:{line:22,column:4},end:{line:27,column:74}},{start:{line:22,column:4},end:{line:27,column:74}}],line:22},'1':{loc:{start:{line:24,column:9},end:{line:27,column:74}},type:'if',locations:[{start:{line:24,column:9},end:{line:27,column:74}},{start:{line:24,column:9},end:{line:27,column:74}}],line:24},'2':{loc:{start:{line:38,column:4},end:{line:59,column:5}},type:'if',locations:[{start:{line:38,column:4},end:{line:59,column:5}},{start:{line:38,column:4},end:{line:59,column:5}}],line:38},'3':{loc:{start:{line:42,column:6},end:{line:57,column:7}},type:'if',locations:[{start:{line:42,column:6},end:{line:57,column:7}},{start:{line:42,column:6},end:{line:57,column:7}}],line:42},'4':{loc:{start:{line:44,column:8},end:{line:47,column:9}},type:'if',locations:[{start:{line:44,column:8},end:{line:47,column:9}},{start:{line:44,column:8},end:{line:47,column:9}}],line:44},'5':{loc:{start:{line:49,column:10},end:{line:55,column:11}},type:'if',locations:[{start:{line:49,column:10},end:{line:55,column:11}},{start:{line:49,column:10},end:{line:55,column:11}}],line:49},'6':{loc:{start:{line:50,column:12},end:{line:51,column:67}},type:'if',locations:[{start:{line:50,column:12},end:{line:51,column:67}},{start:{line:50,column:12},end:{line:51,column:67}}],line:50},'7':{loc:{start:{line:69,column:6},end:{line:71,column:7}},type:'if',locations:[{start:{line:69,column:6},end:{line:71,column:7}},{start:{line:69,column:6},end:{line:71,column:7}}],line:69},'8':{loc:{start:{line:76,column:4},end:{line:83,column:5}},type:'if',locations:[{start:{line:76,column:4},end:{line:83,column:5}},{start:{line:76,column:4},end:{line:83,column:5}}],line:76},'9':{loc:{start:{line:91,column:6},end:{line:99,column:7}},type:'if',locations:[{start:{line:91,column:6},end:{line:99,column:7}},{start:{line:91,column:6},end:{line:99,column:7}}],line:91},'10':{loc:{start:{line:94,column:8},end:{line:98,column:9}},type:'if',locations:[{start:{line:94,column:8},end:{line:98,column:9}},{start:{line:94,column:8},end:{line:98,column:9}}],line:94}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const{safeToString}=(cov_jty5md9nw.s[0]++,process.binding('util'));const promiseRejectEvent=(cov_jty5md9nw.s[1]++,process._promiseRejectEvent);const hasBeenNotifiedProperty=(cov_jty5md9nw.s[2]++,new WeakMap());const promiseToGuidProperty=(cov_jty5md9nw.s[3]++,new WeakMap());const pendingUnhandledRejections=(cov_jty5md9nw.s[4]++,[]);let lastPromiseId=(cov_jty5md9nw.s[5]++,1);cov_jty5md9nw.s[6]++;exports.setup=setupPromises;function getAsynchronousRejectionWarningObject(uid){cov_jty5md9nw.f[0]++;cov_jty5md9nw.s[7]++;return new Error('Promise rejection was handled '+`asynchronously (rejection id: ${uid})`);}function setupPromises(scheduleMicrotasks){cov_jty5md9nw.f[1]++;let deprecationWarned=(cov_jty5md9nw.s[8]++,false);cov_jty5md9nw.s[9]++;process._setupPromises(function(event,promise,reason){cov_jty5md9nw.f[2]++;cov_jty5md9nw.s[10]++;if(event===promiseRejectEvent.unhandled){cov_jty5md9nw.b[0][0]++;cov_jty5md9nw.s[11]++;unhandledRejection(promise,reason);}else{cov_jty5md9nw.b[0][1]++;cov_jty5md9nw.s[12]++;if(event===promiseRejectEvent.handled){cov_jty5md9nw.b[1][0]++;cov_jty5md9nw.s[13]++;rejectionHandled(promise);}else{cov_jty5md9nw.b[1][1]++;cov_jty5md9nw.s[14]++;require('assert').fail(null,null,'unexpected PromiseRejectEvent');}}});function unhandledRejection(promise,reason){cov_jty5md9nw.f[3]++;cov_jty5md9nw.s[15]++;hasBeenNotifiedProperty.set(promise,false);cov_jty5md9nw.s[16]++;promiseToGuidProperty.set(promise,lastPromiseId++);cov_jty5md9nw.s[17]++;addPendingUnhandledRejection(promise,reason);}function rejectionHandled(promise){cov_jty5md9nw.f[4]++;const hasBeenNotified=(cov_jty5md9nw.s[18]++,hasBeenNotifiedProperty.get(promise));cov_jty5md9nw.s[19]++;if(hasBeenNotified!==undefined){cov_jty5md9nw.b[2][0]++;cov_jty5md9nw.s[20]++;hasBeenNotifiedProperty.delete(promise);const uid=(cov_jty5md9nw.s[21]++,promiseToGuidProperty.get(promise));cov_jty5md9nw.s[22]++;promiseToGuidProperty.delete(promise);cov_jty5md9nw.s[23]++;if(hasBeenNotified===true){cov_jty5md9nw.b[3][0]++;let warning=(cov_jty5md9nw.s[24]++,null);cov_jty5md9nw.s[25]++;if(!process.listenerCount('rejectionHandled')){cov_jty5md9nw.b[4][0]++;cov_jty5md9nw.s[26]++;// Generate the warning object early to get a good stack trace.
warning=getAsynchronousRejectionWarningObject(uid);}else{cov_jty5md9nw.b[4][1]++;}cov_jty5md9nw.s[27]++;process.nextTick(function(){cov_jty5md9nw.f[5]++;cov_jty5md9nw.s[28]++;if(!process.emit('rejectionHandled',promise)){cov_jty5md9nw.b[5][0]++;cov_jty5md9nw.s[29]++;if(warning===null){cov_jty5md9nw.b[6][0]++;cov_jty5md9nw.s[30]++;warning=getAsynchronousRejectionWarningObject(uid);}else{cov_jty5md9nw.b[6][1]++;}cov_jty5md9nw.s[31]++;warning.name='PromiseRejectionHandledWarning';cov_jty5md9nw.s[32]++;warning.id=uid;cov_jty5md9nw.s[33]++;process.emitWarning(warning);}else{cov_jty5md9nw.b[5][1]++;}});}else{cov_jty5md9nw.b[3][1]++;}}else{cov_jty5md9nw.b[2][1]++;}}function emitWarning(uid,reason){cov_jty5md9nw.f[6]++;const warning=(cov_jty5md9nw.s[34]++,new Error(`Unhandled promise rejection (rejection id: ${uid}): `+safeToString(reason)));cov_jty5md9nw.s[35]++;warning.name='UnhandledPromiseRejectionWarning';cov_jty5md9nw.s[36]++;warning.id=uid;cov_jty5md9nw.s[37]++;try{cov_jty5md9nw.s[38]++;if(reason instanceof Error){cov_jty5md9nw.b[7][0]++;cov_jty5md9nw.s[39]++;warning.stack=reason.stack;}else{cov_jty5md9nw.b[7][1]++;}}catch(err){// ignored
}cov_jty5md9nw.s[40]++;process.emitWarning(warning);cov_jty5md9nw.s[41]++;if(!deprecationWarned){cov_jty5md9nw.b[8][0]++;cov_jty5md9nw.s[42]++;deprecationWarned=true;cov_jty5md9nw.s[43]++;process.emitWarning('Unhandled promise rejections are deprecated. In the future, '+'promise rejections that are not handled will terminate the '+'Node.js process with a non-zero exit code.','DeprecationWarning','DEP0018');}else{cov_jty5md9nw.b[8][1]++;}}function emitPendingUnhandledRejections(){cov_jty5md9nw.f[7]++;let hadListeners=(cov_jty5md9nw.s[44]++,false);cov_jty5md9nw.s[45]++;while(pendingUnhandledRejections.length>0){const promise=(cov_jty5md9nw.s[46]++,pendingUnhandledRejections.shift());const reason=(cov_jty5md9nw.s[47]++,pendingUnhandledRejections.shift());cov_jty5md9nw.s[48]++;if(hasBeenNotifiedProperty.get(promise)===false){cov_jty5md9nw.b[9][0]++;cov_jty5md9nw.s[49]++;hasBeenNotifiedProperty.set(promise,true);const uid=(cov_jty5md9nw.s[50]++,promiseToGuidProperty.get(promise));cov_jty5md9nw.s[51]++;if(!process.emit('unhandledRejection',reason,promise)){cov_jty5md9nw.b[10][0]++;cov_jty5md9nw.s[52]++;emitWarning(uid,reason);}else{cov_jty5md9nw.b[10][1]++;cov_jty5md9nw.s[53]++;hadListeners=true;}}else{cov_jty5md9nw.b[9][1]++;}}cov_jty5md9nw.s[54]++;return hadListeners;}function addPendingUnhandledRejection(promise,reason){cov_jty5md9nw.f[8]++;cov_jty5md9nw.s[55]++;pendingUnhandledRejections.push(promise,reason);cov_jty5md9nw.s[56]++;scheduleMicrotasks();}cov_jty5md9nw.s[57]++;return emitPendingUnhandledRejections;}