prefix parallel

# To mark a test as flaky, list the test name in the appropriate section
# below, without ".js", followed by ": PASS,FLAKY". Example:
# sample-test                        : PASS,FLAKY

[true] # This section applies to all platforms
# https://github.com/nodejs/node/issues/52273
net/write-fully-async-hex-string: PASS, FLAKY
shadow/realm-gc: PASS, FLAKY
shadow/realm-gc-module: PASS, FLAKY
# https://github.com/nodejs/node/issues/52274
worker/arraybuffer-zerofill: PASS, FLAKY

[$system==win32]

# Windows on x86
[$system==win32 && $arch==ia32]
worker/nearheaplimit-deadlock: PASS, FLAKY

# Windows on ARM
[$system==win32 && $arch==arm64]

[$system==linux]
# https://github.com/nodejs/node/issues/43465
http/server-request-timeouts-mixed: PASS, FLAKY

[$system==linux || $system==win32]
# https://github.com/nodejs/node/issues/49605
runner/watch-mode: PASS,FLAKY

[$system==macos]
# https://github.com/nodejs/node/issues/42741
http/server-headers-timeout-keepalive: PASS,FLAKY
http/server-request-timeout-keepalive: PASS,FLAKY
# https://github.com/nodejs/node/issues/43465
http/server-request-timeouts-mixed: PASS,FLAKY
# https://github.com/nodejs/node/issues/50243
inspector/async-stack-traces-set-interval: PASS, FLAKY

[$arch==arm || $arch==arm64]
# https://github.com/nodejs/node/pull/31178
crypto/dh-stateless: SKIP
crypto/keygen: SKIP

[$system==solaris] # Also applies to SmartOS
# https://github.com/nodejs/node/issues/43457
domain/no-error-handler-abort-on-uncaught-0: PASS, FLAKY
domain/no-error-handler-abort-on-uncaught-1: PASS,FLAKY
domain/no-error-handler-abort-on-uncaught-2: PASS,FLAKY
domain/no-error-handler-abort-on-uncaught-3: PASS,FLAKY
domain/no-error-handler-abort-on-uncaught-4: PASS,FLAKY
domain/no-error-handler-abort-on-uncaught-5: PASS, FLAKY
domain/no-error-handler-abort-on-uncaught-6: PASS, FLAKY
domain/no-error-handler-abort-on-uncaught-7: PASS, FLAKY
domain/no-error-handler-abort-on-uncaught-8: PASS, FLAKY
domain/no-error-handler-abort-on-uncaught-9: PASS, FLAKY
domain/throw-error-then-throw-from-uncaught-exception-handler: PASS, FLAKY
domain/with-abort-on-uncaught-exception: PASS, FLAKY
# https://github.com/nodejs/node/issues/50050
tick/processor-arguments: SKIP

[$system==freebsd]

[$system==ibmi]
# https://github.com/nodejs/node/pull/30819
child/process-fork-net-server: SKIP
cli/node-options: SKIP
cluster/shared-leak: SKIP
http/writable-true-after-close: SKIP
http2/connect-method: SKIP
net/error-twice: SKIP
# https://github.com/libuv/libuv/pull/2782
net/allow-half-open: SKIP
net/keepalive: SKIP
net/persistent-keepalive: SKIP
net/socket-close-after-end: SKIP
net/socket-connect-without-cb: SKIP
net/socket-connecting: SKIP
net/socket-ready-without-cb: SKIP
net/write-after-end-nt: SKIP
tls/env-extra-ca: SKIP
# https://github.com/nodejs/node/pull/34209
dgram/error-message-address: SKIP
# https://github.com/nodejs/node/issues/36929
crypto/secure-heap: SKIP
# https://github.com/nodejs/node/issues/39683
dgram/connect: PASS, FLAKY
http/client-parse-error: PASS, FLAKY
http/multi-line-headers: PASS, FLAKY
http/pipeline-requests-connection-leak: PASS, FLAKY
http/server-unconsume: PASS, FLAKY
http/upgrade-advertise: PASS, FLAKY
tls/client-mindhsize: PASS, FLAKY
tls/write-error: PASS, FLAKY
# https://github.com/nodejs/node/issues/48047
http/pipeline-flood: SKIP

[$asan==on]
# https://github.com/nodejs/node/issues/39655
cluster/primary-error: PASS, FLAKY

[$arch==s390x]
# https://github.com/nodejs/node/issues/50222
inspector/async-hook-setup-at-inspect-brk: PASS, FLAKY

[$arch==loong64]
# https://github.com/nodejs/node/issues/51662
http/correct-hostname: SKIP
